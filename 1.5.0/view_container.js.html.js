tui.util.defineNamespace("fedoc.content", {});
fedoc.content["view_container.js.html"] = "      <div id=\"main\" class=\"main\">\n\n\n\n    \n    <section>\n        <article>\n            <pre class=\"prettyprint source linenums\"><code>/**\n * @fileoverview View class that conaints a top element of the DOM structure of the grid.\n * @author NHN Ent. FE Development Team\n */\n'use strict';\n\nvar _ = require('underscore');\n\nvar View = require('../base/view');\nvar GridEvent = require('../common/gridEvent');\nvar attrNameConst = require('../common/constMap').attrName;\nvar classNameConst = require('../common/classNameConst');\n\n/**\n * Container View\n * @module view/container\n * @extends module:base/view\n */\nvar Container = View.extend(/**@lends module:view/container.prototype */{\n    /**\n     * @constructs\n     * @param {Object} options - Options\n     */\n    initialize: function(options) {\n        View.prototype.initialize.call(this);\n\n        this.gridId = options.gridId;\n        this.singleClickEdit = options.singleClickEdit;\n        this.dimensionModel = options.dimensionModel;\n        this.focusModel = options.focusModel;\n        this.dataModel = options.dataModel;\n        this.viewFactory = options.viewFactory;\n\n        this._createChildViews();\n\n        this.listenTo(this.dimensionModel, 'setWidth', this._onSetWidth);\n        $(window).on('resize.grid', $.proxy(this._onResizeWindow, this));\n\n        this.__$el = this.$el.clone();\n    },\n\n    events: {\n        'click': '_onClick',\n        'dblclick': '_onDblClick',\n        'mousedown': '_onMouseDown',\n        'mouseover': '_onMouseOver',\n        'mouseout': '_onMouseOut',\n\n        // for preventing drag\n        'selectstart': '_preventDrag',\n        'dragstart': '_preventDrag'\n    },\n\n    /**\n     * 내부에서 사용할 view 인스턴스들을 초기화한다.\n     * @private\n     */\n    _createChildViews: function() {\n        var factory = this.viewFactory;\n\n        this._addChildren([\n            factory.createToolbar(),\n            factory.createContentArea(),\n            factory.createHeightResizeHandle(),\n            factory.createPagination(),\n            factory.createStateLayer(),\n            factory.createEditingLayer(),\n            factory.createDatePickerLayer(),\n            factory.createClipboard()\n        ]);\n    },\n\n    /**\n     * Event handler for resize event on window.\n     * @private\n     */\n    _onResizeWindow: function() {\n        this.dimensionModel.refreshLayout();\n    },\n\n    /**\n     * drag 이벤트 발생시 이벤트 핸들러\n     * @returns {boolean} false\n     * @private\n     */\n    _preventDrag: function() {\n        return false;\n    },\n\n    /**\n     * Event handler for 'setSize' event on Dimension\n     * @private\n     */\n    _onSetWidth: function() {\n        this.$el.width(this.dimensionModel.get('width'));\n    },\n\n    /**\n     * click 이벤트 핸들러\n     * @param {MouseEvent} mouseEvent 이벤트 객체\n     * @private\n     */\n    _onClick: function(mouseEvent) {\n        var eventData = new GridEvent(mouseEvent);\n        var $target = $(mouseEvent.target);\n        var cellInfo;\n\n        this.trigger('click', eventData);\n        if (eventData.isStopped()) {\n            return;\n        }\n        if (this._isCellElement($target, true)) {\n            cellInfo = this._getCellInfoFromElement($target.closest('td'));\n            if (this.singleClickEdit &amp;&amp; !$target.is('input')) {\n                this.focusModel.focusIn(cellInfo.rowKey, cellInfo.columnName);\n            }\n            this._triggerCellMouseEvent('clickCell', eventData, cellInfo);\n        }\n    },\n\n    /**\n     * doubleClick 이벤트 핸들러\n     * @param {MouseEvent} mouseEvent 이벤트 객체\n     * @private\n     */\n    _onDblClick: function(mouseEvent) {\n        var eventData = new GridEvent(mouseEvent);\n        var $target = $(mouseEvent.target);\n\n        this.trigger('dblclick', eventData);\n        if (eventData.isStopped()) {\n            return;\n        }\n        if (this._isCellElement($target, true)) {\n            this._triggerCellMouseEvent('dblclickCell', eventData, $target.closest('td'));\n            if (eventData.rowKey === null &amp;&amp; !eventData.isStopped()) {\n                this.dataModel.append({}, {focus: true});\n            }\n        }\n    },\n\n    /**\n     * mouseover 이벤트 발생시 실행될 핸들러\n     * @private\n     * @param {MouseEvent} mouseEvent 마우스 이벤트 객체\n     */\n    _onMouseOver: function(mouseEvent) {\n        var $target = $(mouseEvent.target),\n            eventData;\n\n        if (this._isCellElement($target)) {\n            eventData = new GridEvent(mouseEvent);\n            this._triggerCellMouseEvent('mouseoverCell', eventData, $target);\n        }\n    },\n\n    /**\n     * mouseout 이벤트 발생시 실행될 핸들러\n     * @private\n     * @param {MouseEvent} mouseEvent 마우스 이벤트 객체\n     */\n    _onMouseOut: function(mouseEvent) {\n        var $target = $(mouseEvent.target);\n        var eventData;\n\n        if (this._isCellElement($target)) {\n            eventData = new GridEvent(mouseEvent);\n            this._triggerCellMouseEvent('mouseoutCell', eventData, $target);\n        }\n    },\n\n    /**\n     * 셀과 관련된 커스텀 마우스 이벤트를 발생시킨다.\n     * @private\n     * @param {string} eventName 이벤트명\n     * @param {MouseEvent} eventData 커스터마이징 된 마우스 이벤트 객체\n     * @param {(jQuery|object)} cell 이벤트가 발생한 cell (jquery 객체이거나 rowKey, columnName, rowData를 갖는 plain 객체)\n     */\n    _triggerCellMouseEvent: function(eventName, eventData, cell) {\n        var cellInfo = cell;\n\n        if (cell instanceof $) {\n            cellInfo = this._getCellInfoFromElement(cell);\n        }\n        _.extend(eventData, cellInfo);\n        this.trigger(eventName, eventData);\n    },\n\n    /**\n     * 해당 HTML요소가 셀인지 여부를 반환한다.\n     * @private\n     * @param {jQuery} $target 검사할 HTML요소의 jQuery 객체\n     * @param {boolean} isIncludeChild true이면 셀의 자식요소까지 포함한다.\n     * @returns {boolean} 셀이면 true, 아니면 false\n     */\n    _isCellElement: function($target, isIncludeChild) {\n        var $cell = isIncludeChild ? $target.closest('td') : $target;\n\n        return !!($cell.is('td') &amp;&amp; $cell.attr(attrNameConst.COLUMN_NAME));\n    },\n\n    /**\n     * HTML요소에서 셀의 rowKey와 columnName값을 찾아서 rowData와 함께 객체로 반환한다.\n     * @private\n     * @param {jQuery} $cell TD요소의 jquery 객체\n     * @returns {{rowKey: string, rowData: Data.Row, columnName: string}} 셀 관련 정보를 담은 객체\n     */\n    _getCellInfoFromElement: function($cell) {\n        var rowKey = Number($cell.attr(attrNameConst.ROW_KEY));\n        var columnName = $cell.attr(attrNameConst.COLUMN_NAME);\n\n        if (isNaN(rowKey)) {\n            rowKey = null;\n        }\n        return {\n            rowKey: rowKey,\n            columnName: columnName,\n            rowData: this.dataModel.getRowData(rowKey)\n        };\n    },\n\n    /**\n     * mousedown 이벤트 핸들러\n     * @param {event} mouseEvent 이벤트 객체\n     * @private\n     */\n    _onMouseDown: function(mouseEvent) {\n        var $target = $(mouseEvent.target);\n        var eventData = new GridEvent(mouseEvent);\n\n        this.trigger('mousedown', eventData);\n        if (eventData.isStopped()) {\n            return;\n        }\n        if (!$target.is('input, a, button, select')) {\n            mouseEvent.preventDefault();\n            this.focusModel.focusClipboard();\n        }\n    },\n\n    /**\n     * Render\n     * @returns {module:view/container} this object\n     */\n    render: function() {\n        var childElements = this._renderChildren();\n\n        this.$el.addClass(classNameConst.CONTAINER)\n            .attr(attrNameConst.GRID_ID, this.gridId)\n            .append(childElements);\n\n        this._triggerChildrenAppended();\n        this.trigger('rendered');\n\n        return this;\n    },\n\n    /**\n     * 소멸자\n     */\n    destroy: function() {\n        this.stopListening();\n        $(window).off('resize.grid');\n        this._destroyChildren();\n\n        this.$el.replaceWith(this.__$el);\n        this.$el = this.__$el = null;\n    }\n});\n\nmodule.exports = Container;\n</code></pre>\n        </article>\n    </section>\n\n\n\n</div>\n\n"