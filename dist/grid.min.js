/**
 * @fileoverview application-grid
 * @author NHN Ent. FE Development Team
 * @version 1.0.4c
 * @license MIT
 * @link https://github.com/nhnent/fe.application-grid
 */
!function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return o(i?i:t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){"use strict";var n=t("../base/common"),o=t("../util"),s=Backbone.Router.extend({initialize:function(t){this.setOwnProperties({grid:t&&t.grid||null,net:t&&t.net||null})},routes:{"read/:queryStr":"read"},read:function(t){var e=o.toQueryObject(t);this.net.setFormData(e),this.net.readData(e)}});_.assign(s.prototype,n),e.exports=s},{"../base/common":4,"../util":19}],2:[function(t,e,i){"use strict";var n=t("../base/view"),o=t("./net-router"),s=t("../util"),r=n.extend({tagName:"form",events:{submit:"_onSubmit"},initialize:function(t){var e,i,o;n.prototype.initialize.apply(this,arguments),e={initialRequest:!0,api:{readData:"",createData:"",updateData:"",deleteData:"",modifyData:"",downloadExcel:"",downloadExcelAll:""},perPage:500,enableAjaxHistory:!0},i=$.extend(!0,e,t),o=this.grid.getPaginationInstance(),this.setOwnProperties({curPage:1,perPage:i.perPage,options:i,router:null,pagination:o,requestedFormData:null,isLocked:!1,lastRequestedReadData:null}),this._initializeDataModelNetwork(),this._initializeRouter(),this._initializePagination(),this._showToolbarExcelBtns(),this.listenTo(this.grid.dataModel,"sortChanged",this._onSortChanged,this),i.initialRequest&&this._readDataAt(1,!1)},_initializePagination:function(){var t=this.pagination;t&&(t.setOption("itemPerPage",this.perPage),t.setOption("itemCount",1),t.on("beforeMove",$.proxy(this._onPageBeforeMove,this)))},_initializeDataModelNetwork:function(){this.grid.dataModel.url=this.options.api.readData,this.grid.dataModel.sync=$.proxy(this._sync,this)},_initializeRouter:function(){this.options.enableAjaxHistory&&(this.router=new o({grid:this.grid,net:this}),Backbone.History.started||Backbone.history.start())},_showToolbarExcelBtns:function(){var t=this.grid.view.toolbar.controlPanel,e=this.options.api;t&&(e.downloadExcel&&t.$btnExcel.show(),e.downloadExcelAll&&t.$btnExcelAll.show())},_onPageBeforeMove:function(t){var e=t.page;this.curPage!==e&&this._readDataAt(e,!0)},_onSubmit:function(t){t.preventDefault(),this._readDataAt(1,!1)},setFormData:function(t){s.form.setFormData(this.$el,t)},_sync:function(t,e,i){var n;"read"===t?(i=i||{},n=$.extend({},i),i.url||(n.url=_.result(e,"url")),this._ajax(n)):Backbone.sync.call(Backbone,t,e,i)},_lock:function(){this.grid.showGridLayer("loading"),this.isLocked=!0},_unlock:function(){this.isLocked=!1},_getFormData:function(){return s.form.getFormData(this.$el)},_onReadSuccess:function(t,e){var i,n,o=this.pagination;t.setOriginalRowList(),o&&e.pagination&&(i=e.pagination.page,n=e.pagination.totalCount,o.setOption("itemPerPage",this.perPage),o.setOption("itemCount",n),o.movePageTo(i),this.curPage=i)},_onReadError:function(t,e,i){},reloadData:function(){this.readData(this.lastRequestedReadData)},readData:function(t){var e=1,i=this.grid;this.isLocked||(i.renderModel.initializeVariables(),this._lock(),this.requestedFormData=_.clone(t),this.curPage=t.page||this.curPage,e=(this.curPage-1)*this.perPage+1,i.renderModel.set({startNumber:e}),this.lastRequestedReadData=_.clone(t),i.dataModel.fetch({requestType:"readData",data:t,type:"POST",success:$.proxy(this._onReadSuccess,this),error:$.proxy(this._onReadError,this),reset:!0}),i.dataModel.setSortOptionValues(t.sortColumn,t.sortAscending))},_onSortChanged:function(t){t.isRequireFetch&&this._readDataAt(1,!0,t)},_changeSortOptions:function(t,e){e&&("rowKey"===e.columnName?(delete t.sortColumn,delete t.sortAscending):(t.sortColumn=e.columnName,t.sortAscending=e.isAscending))},_readDataAt:function(t,e,i){var n;e=void 0===e?!0:e,n=e?this.requestedFormData:this._getFormData(),n.page=t,n.perPage=this.perPage,this._changeSortOptions(n,i),this.router&&this.router.navigate("read/"+s.toQueryString(n),{trigger:!1}),this.readData(n)},request:function(t,e){var i={url:this.options.api[t],type:null,hasDataParam:!0,isOnlyChecked:!0,isOnlyModified:!0,isSkipConfirm:!1},n=$.extend(i,e),o=this._getRequestParam(t,n);o&&this._ajax(o)},download:function(t){var e,i="download"+s.toUpperCaseFirstLetter(t),n=this.requestedFormData,o=this.options.api[i];"excel"===t?(n.page=this.curPage,n.perPage=this.perPage):n=_.omit(n,"page","perPage"),e=$.param(n),window.location=o+"?"+e},setPerPage:function(t){this.perPage=t,this._readDataAt(1)},_getDataParam:function(t,e){var i,n=this.grid.dataModel,o={createData:["createList"],updateData:["updateList"],deleteData:["deleteList"],modifyData:["createList","updateList","deleteList"]},s=o[t],r={},a=0;return e=_.defaults(e||{},{hasDataParam:!0,isOnlyModified:!0,isOnlyChecked:!0}),e.hasDataParam&&(e.isOnlyModified?(i=n.getModifiedRowList({isOnlyChecked:e.isOnlyChecked}),_.each(i,function(t,e){_.contains(s,e)&&t.length&&(a+=t.length,r[e]=$.toJSON(t))},this)):(r.rowList=n.getRowList(e.isOnlyChecked),a=r.rowList.length)),{data:r,count:a}},_getRequestParam:function(t,e){var i,n={url:this.options.api[t],type:null,hasDataParam:!0,isOnlyModified:!0,isOnlyChecked:!0},o=$.extend(n,e),s=this._getDataParam(t,o);return o.isSkipConfirm||this._isConfirmed(t,s.count)?i={requestType:t,url:o.url,data:s.data,type:o.type}:void 0},_isConfirmed:function(t,e){var i=!1;return e>0?i=confirm(this._getConfirmMessage(t,e)):alert(this._getConfirmMessage(t,e)),i},_getConfirmMessage:function(t,e){var i,n={createData:"입력",updateData:"수정",deleteData:"삭제",modifyData:"반영"},o=n[t];return i=e>0?e+"건의 데이터를 "+o+"하시겠습니까?":o+"할 데이터가 없습니다."},_ajax:function(t){var e,i=this.createEventData(t.data);this.grid.trigger("beforeRequest",i),i.isStopped()||(t=$.extend({requestType:""},t),e={url:t.url,data:t.data||{},type:t.type||"POST",dataType:t.dataType||"json",complete:$.proxy(this._onComplete,this,t.complete,t),success:$.proxy(this._onSuccess,this,t.success,t),error:$.proxy(this._onError,this,t.error,t)},t.url&&$.ajax(e))},_onComplete:function(t,e,i){this._unlock()},_onSuccess:function(t,e,i,n,o){var s=i&&i.message,r=this.createEventData({httpStatus:n,requestType:e.requestType,requestParameter:e.data,responseData:i});if(this.grid.trigger("response",r),!r.isStopped())if(i&&i.result){if(this.grid.trigger("successResponse",r),r.isStopped())return;_.isFunction(t)&&t(i.data||{},n,o)}else{if(this.grid.trigger("failResponse",r),r.isStopped())return;s&&alert(s)}},_onError:function(t,e,i,n){var o=this.createEventData({httpStatus:n,requestType:e.requestType,requestParameter:e.data,responseData:null});this.grid.hideGridLayer(),this.grid.trigger("response",o),o.isStopped()||(this.grid.trigger("errorResponse",o),o.isStopped()||i.readyState>1&&alert("데이터 요청 중에 에러가 발생하였습니다.\n\n다시 시도하여 주시기 바랍니다."))}});e.exports=r},{"../base/view":7,"../util":19,"./net-router":1}],3:[function(t,e,i){"use strict";var n=t("./common"),o=Backbone.Collection.extend({initialize:function(t,e){var i=e&&e.grid||this.collection&&this.collection.grid||null;this.setOwnProperties({grid:i})},clear:function(){return this.each(function(t){t.stopListening(),t=null}),this.reset([],{silent:!0}),this}});_.assign(o.prototype,n),e.exports=o},{"./common":4}],4:[function(t,e,i){"use strict";var n={setOwnProperties:function(t){_.each(t,function(t,e){this[e]=t},this)}};e.exports=n},{}],5:[function(t,e,i){"use strict";var n=t("./common"),o=Backbone.Model.extend({initialize:function(t){var e=t&&t.grid||this.collection&&this.collection.grid||null;this.setOwnProperties({grid:e})}});_.assign(o.prototype,n),e.exports=o},{"./common":4}],6:[function(t,e,i){"use strict";var n=t("./common"),o=ne.util.defineClass({init:function(t){var e=t&&t.grid||this.collection&&this.collection.grid||null;this.setOwnProperties({grid:e}),this.initializeEventHandler()},eventHandler:{},initializeEventHandler:function(){var t={};_.each(this.eventHandler,function(e,i){var n=i.split(" "),o=n[0],s=n[1]||"";t[o]={selector:s,handler:$.proxy(this[e],this)}},this),this.setOwnProperties({_eventHandler:t})},getEventHandlerInfo:function(){return this._eventHandler},getHtml:function(){throw this.error("implement getHtml() method")}});_.assign(o.prototype,n),e.exports=o},{"./common":4}],7:[function(t,e,i){"use strict";var n=t("./common"),o=Backbone.View.extend({initialize:function(t){var e=t&&t.grid||this.collection&&this.collection.grid||null;this.setOwnProperties({grid:e,_viewList:[]})},error:function(t){var e=function(){this.name="Grid Exception",this.message=t||"error"};return e.prototype=new Error,new e},createView:function(t,e){var i=new t(e);return this.addView(i),i},addView:function(t){return this.hasOwnProperty("_viewList")||this.setOwnProperties({_viewList:[]}),this._viewList.push(t),t},destroy:function(){this.stopListening(),this.destroyChildren(),this.remove()},createEventData:function(t){var e=$.extend({},t);return e.stop=function(){this._isStopped=!0},e.isStopped=function(){return this._isStopped},e._isStopped=e._isStopped||!1,e},destroyChildren:function(){if(this._viewList instanceof Array)for(;0!==this._viewList.length;)this._viewList.pop().destroy()}});_.assign(o.prototype,n),e.exports=o},{"./common":4}],8:[function(t,e,i){"use strict";var n=t("./base/view"),o=t("./data/columnModel"),s=t("./data/rowList"),r=t("./model/dimension"),a=t("./model/focus"),l=t("./model/renderer"),u=t("./model/renderer-smart"),h=t("./view/cellFactory"),c=t("./view/selection"),d=t("./view/clipboard"),g=t("./view/layout/frame-lside"),p=t("./view/layout/frame-rside"),m=t("./view/layout/toolbar"),f=t("./view/layer/ready"),w=t("./view/layer/empty"),y=t("./view/layer/loading"),v=t("./addon/net"),C=t("./util"),b={Net:v},x=n.extend({initialize:function(t){var e=C.getUniqueKey();n.prototype.initialize.apply(this,arguments),this.publicInstance=t.publicInstance,this.__instance[e]=this,this.id=e,this._initializeOptions(t),this._initializeProperties(),this._initializeModel(),this._initializeListener(),this._initializeView(),this._attachExtraEvent(),this.render(),this.updateLayoutData()},scrollBarSize:17,lside:null,rside:null,toolbar:null,cellFactory:null,events:{click:"_onClick",dblclick:"_onDblClick",mousedown:"_onMouseDown",selectstart:"_preventDrag",dragstart:"_preventDrag",mouseover:"_onMouseOver",mouseout:"_onMouseOut"},keyMap:{TAB:9,ENTER:13,CTRL:17,ESC:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,CHAR_A:65,CHAR_C:67,CHAR_F:70,CHAR_R:82,CHAR_V:86,LEFT_WINDOW_KEY:91,F5:116,BACKSPACE:8,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,DEL:46,UNDEFINED:229},keyName:{9:"TAB",13:"ENTER",17:"CTRL",27:"ESC",37:"LEFT_ARROW",38:"UP_ARROW",39:"RIGHT_ARROW",40:"DOWN_ARROW",65:"CHAR_A",67:"CHAR_C",70:"CHAR_F",82:"CHAR_R",86:"CHAR_V",91:"LEFT_WINDOW_KEY",116:"F5",8:"BACKSPACE",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",36:"HOME",35:"END",46:"DEL",229:"UNDEFINED"},_initializeOptions:function(t){var e={columnFixIndex:0,columnModelList:[],keyColumnName:null,selectType:"",autoNumbering:!0,headerHeight:35,rowHeight:27,displayRowCount:10,minimumColumnWidth:50,notUseSmartRendering:!1,columnMerge:[],scrollX:!0,scrollY:!0,useDataCopy:!0,useClientSort:!0,singleClickEdit:!1,toolbar:{hasResizeHandler:!0,hasControlPanel:!0,hasPagination:!0}};this.options=$.extend(!0,e,t)},_initializeProperties:function(){this.setOwnProperties({cellFactory:null,selection:null,columnModel:null,dataModel:null,renderModel:null,layoutModel:null,focusModel:null,addOn:{},view:{lside:null,rside:null,toolbar:null,clipboard:null,layer:{ready:null,loading:null,empty:null}},timeoutIdForBlur:0,timeoutIdForResize:0,timeoutIdForSetRowList:0,__$el:this.$el.clone()})},_initializeModel:function(){var t=this.$el.offset();this.columnModel=new o({grid:this,hasNumberColumn:this.option("autoNumbering"),keyColumnName:this.option("keyColumnName"),columnFixIndex:this.option("columnFixIndex"),selectType:this.option("selectType")}),this.setColumnModelList(this.option("columnModelList")),this.dataModel=new s([],{grid:this,useClientSort:this.option("useClientSort")}),this.dataModel.reset([]),this.dimensionModel=new r({grid:this,offsetTop:t.top,offsetLeft:t.left,width:this.$el.width(),headerHeight:this.option("headerHeight"),rowHeight:this.option("rowHeight"),scrollX:!!this.option("scrollX"),scrollY:!!this.option("scrollY"),scrollBarSize:this.scrollBarSize,minimumColumnWidth:this.option("minimumColumnWidth"),displayRowCount:this.option("displayRowCount")}),this.focusModel=new a({grid:this,scrollX:!!this.option("scrollX"),scrollY:!!this.option("scrollY"),scrollBarSize:this.scrollBarSize}),this.option("notUseSmartRendering")?this.renderModel=new l({grid:this}):this.renderModel=new u({grid:this})},_initializeView:function(){this.cellFactory=this.createView(h,{grid:this}),this.selection=this.createView(c,{grid:this}),this.view.lside=this.createView(g,{grid:this}),this.view.rside=this.createView(p,{grid:this}),this.view.toolbar=this.createView(m,{grid:this}),this.view.layer.ready=this.createView(f,{grid:this}),this.view.layer.empty=this.createView(w,{grid:this}),this.view.layer.loading=this.createView(y,{grid:this}),this.view.clipboard=this.createView(d,{grid:this}),this.options&&!this.options.useDataCopy&&this.selection.disable()},_initializeListener:function(){this.listenTo(this.dimensionModel,"change:bodyHeight",this._setHeight).listenTo(this.focusModel,"select",this._onRowSelectChanged)},_attachExtraEvent:function(){$(window).on("resize",$.proxy(this._onWindowResize,this)),$(document).on("focusin",$.proxy(this._onBlur,this))},_onBlur:function(){clearTimeout(this.timeoutIdForBlur),this.timeoutIdForBlur=setTimeout($.proxy(this._doBlur,this),0)},_doBlur:function(){var t,e;this.$el&&(t=this.$el.find(":focus"),e=!!t.length,e?(t.is("td")||t.is("a"))&&this.focusClipboard():this.focusModel.blur())},_preventDrag:function(){return!1},_onWindowResize:function(){this.$el&&this.dimensionModel.set("width",this.$el.width())},_onClick:function(t){var e,i=this.createEventData(t),n=$(t.target);this.trigger("click",i),i.isStopped()||this._isCellElement(n,!0)&&(e=this._getCellInfoFromElement(n.closest("td")),this.option("singleClickEdit")&&!n.is("input")&&this.focusIn(e.rowKey,e.columnName),this._triggerCellMouseEvent("clickCell",i,e))},_onDblClick:function(t){var e=this.createEventData(t),i=$(t.target);this.trigger("dblclick",e),e.isStopped()||this._isCellElement(i,!0)&&this._triggerCellMouseEvent("dblclickCell",e,i.closest("td"))},_onMouseOver:function(t){var e,i=$(t.target);this._isCellElement(i)&&(e=this.createEventData(t),this._triggerCellMouseEvent("mouseoverCell",e,i))},_onMouseOut:function(t){var e,i=$(t.target);this._isCellElement(i)&&(e=this.createEventData(t),this._triggerCellMouseEvent("mouseoutCell",e,i))},_triggerCellMouseEvent:function(t,e,i){var n=i;i instanceof $&&(n=this._getCellInfoFromElement(i)),_.extend(e,n),this.trigger(t,e)},_isCellElement:function(t,e){var i=e?t.closest("td"):t;return i.is("td")?!(!i.parent().attr("key")||!i.attr("columnname")):!1},_getCellInfoFromElement:function(t){var e=t.parent().attr("key"),i=t.attr("columnname");return{rowKey:e,columnName:i,rowData:this.getRow(e)}},_onMouseDown:function(t){var e=$(t.target),i=this.createEventData(t);this.trigger("mousedown",i),i.isStopped()||e.is("input, a, button, select")||(t.preventDefault(),this.selection.show(),this.focusClipboard())},_onRowSelectChanged:function(t){"radio"===this.columnModel.get("selectType")&&(this.uncheckAll(),this.check(t)),this.trigger("selectRow",{rowKey:t,rowData:this.getRow(t)})},updateLayoutData:function(){var t=this.$el.offset();this.dimensionModel.set({offsetTop:t.top,offsetLeft:t.left,width:this.$el.width(),toolbarHeight:this.view.toolbar.$el.height()})},option:function(t,e){var i;return ne.util.isUndefined(e)?(this.options=this.options||{},i=this.options[t]):(this.options[t]=e,i=this),i},readyForKeyControl:function(){this.focusClipboard()},focusClipboard:function(){ne.util.isExisty(ne.util.pick(this,"view","clipboard"))&&this.view.clipboard.$el.focus()},render:function(){var t=$("<div>").addClass("left_line"),e=$("<div>").addClass("right_line");this.$el.addClass("grid_wrapper").addClass("uio_grid").attr("instanceId",this.id).append(this.view.layer.empty.render().el).append(this.view.layer.loading.render().el).append(this.view.layer.ready.render().el),this.view.layer.loading.show("초기화 중입니다."),this.$el.append(this.view.lside.render().el).append(this.view.rside.render().el).append(this.view.toolbar.render().el).append(t).append(e).append(this.view.clipboard.render().el),this._setHeight(),this.trigger("rendered")},_setHeight:function(){var t=this.dimensionModel.get("bodyHeight"),e=this.dimensionModel.get("headerHeight"),i=this.view.toolbar.$el.height(),n=i+e+t;this.$el.css("height",n+"px"),this.dimensionModel.set({toolbarHeight:i})},getValue:function(t,e,i){var n;return n=i?this.dataModel.getOriginal(t,e):this.dataModel.get(t).get(e)},getColumnValues:function(t,e){var i=this.dataModel.pluck(t);return e?$.toJSON(i):i},getRow:function(t,e){var i=this.dataModel.get(t);return i=i&&i.toJSON(),e?$.toJSON(i):i},getRowAt:function(t,e){var i=this.dataModel.at(t).toJSON();return i=e?$.toJSON(i):i},getRowCount:function(){return this.dataModel.length},getElement:function(t,e){var i=this.columnModel.isLside(e)?this.view.lside.$el:this.view.rside.$el;return t=this.dataModel.getMainRowKey(t,e),i.find('tr[key="'+t+'"]').find('td[columnname="'+e+'"]')},select:function(t){this.focusModel.select(t)},unselect:function(){this.focusModel.unselect(!0)},getSelectedRowKey:function(){return this.focusModel.which().rowKey},setValue:function(t,e,i,n){var o,s=this.dataModel.get(t),r={};return i=_.isString(i)?$.trim(i):i,s?(r[e]=i,s.set(r,{silent:n}),o=!0):o=!1,o},setColumnValues:function(t,e,i,n){var o={},s={isDisabled:!1,isEditable:!0};o[t]=e,i=void 0===i?!0:i,this.dataModel.forEach(function(e){i&&(s=this.getCellState(e.get("rowKey"),t)),!s.isDisabled&&s.isEditable&&e.set(o,{silent:n})},this)},replaceRowList:function(t,e){var i=ne.util.bind(function(){this.dataModel.set(t,{parse:e})},this);this.showGridLayer("loading"),e=void 0===e?!0:e,t&&t.length>500?(clearTimeout(this.timeoutIdForSetRowList),this.timeoutIdForSetRowList=setTimeout($.proxy(function(){i()},this),0)):i()},setRowList:function(t,e,i){var n=ne.util.bind(function(){this.dataModel.reset(t,{parse:e}),this.dataModel.setOriginalRowList(),_.isFunction(i)&&i()},this);this.showGridLayer("loading"),e=void 0===e?!0:e,t&&t.length>500?(clearTimeout(this.timeoutIdForSetRowList),this.timeoutIdForSetRowList=setTimeout($.proxy(function(){n()},this),0)):n()},focus:function(t,e,i){this.focusModel.focus(t,e,i)},focusIn:function(t,e,i){var n;this.focus(t,e,i),t=this.dataModel.getMainRowKey(t,e),this.isEditable(t,e)?(n=this.cellFactory.getInstance(this.columnModel.getEditType(e)),n.focusIn(this.getElement(t,e))):this.focusClipboard()},focusAt:function(t,e,i){var n=this.dataModel.at(t),o=this.columnModel.at(e,!0);n&&o&&this.focus(n.get("rowKey"),o.columnName,i)},focusInAt:function(t,e,i){var n=this.dataModel.at(t),o=this.columnModel.at(e,!0);n&&o&&this.focusIn(n.get("rowKey"),o.columnName,i)},blur:function(){this.focusModel.blur()},checkAll:function(){this.setColumnValues("_button",!0)},check:function(t){this.setValue(t,"_button",!0)},uncheckAll:function(){this.setColumnValues("_button",!1)},uncheck:function(t){this.setValue(t,"_button",!1)},clear:function(){this.setRowList([])},removeRow:function(t,e){this.dataModel.removeRow(t,e)},removeCheckedRows:function(t){var e=this.getCheckedRowKeyList(),i=e.length+"건의 데이터를 삭제하시겠습니까?";return e.length>0&&(!t||confirm(i))?(_.each(e,function(t){this.removeRow(t)},this),!0):!1},enableRow:function(t){this.dataModel.get(t).setRowState("")},disableRow:function(t){this.dataModel.get(t).setRowState("DISABLED")},enableCheck:function(t){this.dataModel.get(t).setRowState("")},disableCheck:function(t){this.dataModel.get(t).setRowState("DISABLED_CHECK")},getCheckedRowKeyList:function(t){var e=[];return _.each(this.dataModel.where({_button:!0}),function(t){e.push(t.get("rowKey"))},this),t?$.toJSON(e):e},getCheckedRowList:function(t){var e=this.dataModel.getRowList(!0);return t?$.toJSON(e):e},getColumnModelList:function(){return this.columnModel.get("columnModelList")},getModifiedRowList:function(t){return this.dataModel.getModifiedRowList(t)},appendRow:function(t,e){this.dataModel.append(t,e)},prependRow:function(t){this.dataModel.prepend(t)},setColumnFixIndex:function(t){this.option({columnFixIndex:t}),this.columnModel.set({columnFixIndex:t})},isChanged:function(){var t=this.getModifiedRowList(),e=!1;return ne.util.forEach(t,function(t){return t.length?(e=!0,!1):void 0}),e},restore:function(){var t=this.dataModel.getOriginalRowList();this.replaceRowList(t,!1)},hideGridLayer:function(){_.each(this.view.layer,function(t){t.hide()},this)},showGridLayer:function(t){this.hideGridLayer(),this.view.layer[t]&&this.view.layer[t].show()},getPaginationInstance:function(){var t=this.view.toolbar.pagination;return t?t.instance:void 0},use:function(t,e){var i=b[t];return e=$.extend({grid:this},e),i&&(this.addOn[t]=new i(e)),this},isSorted:function(){return this.dataModel.isSortedByField()},isEditable:function(t,e){var i,n,o=this.focusModel.which(),s=this.dataModel;return t=void 0!==t?t:o.rowKey,e=void 0!==e?e:o.columnName,i=s.get(t),n=i?i.isEditable(e):!0},isDisabled:function(t,e){var i,n,o=this.focusModel.which(),s=this.dataModel;return t=void 0!==t?t:o.rowKey,e=void 0!==e?e:o.columnName,i=s.get(t),n=i?i.isDisabled(e):!1},getCellState:function(t,e){var i=this.focusModel.which(),n=this.dataModel;return t=void 0!==t?t:i.rowKey,e=void 0!==e?e:i.columnName,n.get(t).getCellState(e)},setColumnModelList:function(t){this.columnModel.set("columnModelList",t)},sort:function(t,e){this.dataModel.sortByField(t,e)},getRowList:function(){return this.dataModel.getRowList()},del:function(t,e,i){var n=this.columnModel.getEditType(e),o=this.dataModel.getMainRowKey(t,e),s=this.dataModel.get(o).getRowState().isDisabledCheck,r=["text","text-convertible","text-password"],a=-1!==$.inArray(n,r),l=this.option("selectType"),u=this.getCellState(o,e),h=!(!a||!u.isEditable||u.isDisabled);h&&(this.setValue(o,e,"",i),i&&"checkbox"===l&&!s&&this.setValue(o,"_button",!0,i))},paste:function(t){var e=this.columnModel.getVisibleColumnModelList(),i=this._getStartIndexToPaste(),n=this._getEndIndexToPaste(i,t,e);_.each(t,function(t,e){this._setValueForPaste(t,i.rowIdx+e,i.columnIdx,n.columnIdx)},this),this.selection.startSelection(i.rowIdx,i.columnIdx),this.selection.updateSelection(n.rowIdx,n.columnIdx)},_getStartIndexToPaste:function(){var t;return t=this.selection.hasSelection()?this.selection.getStartIndex():this.focusModel.indexOf()},_getEndIndexToPaste:function(t,e,i){var n={rowIdx:e.length+t.rowIdx-1,columnIdx:Math.min(e[0].length+t.columnIdx,i.length)-1};return n},_setValueForPaste:function(t,e,i,n){var o,s,r,a,l=this.dataModel.at(e),u={};for(l||(l=this.dataModel.append({})[0]),o=i;n>=o;o+=1)s=this.columnModel.at(o,!0).columnName,r=l.getCellState(s),a=l.getRowSpanData(s),r.isEditable&&!r.isDisabled&&(!a||a.count>=0)&&(u[s]=t[o-i]);l.set(u)},addCellClassName:function(t,e,i){this.dataModel.get(t).addCellClassName(e,i)},addRowClassName:function(t,e){this.dataModel.get(t).addClassName(e)},removeCellClassName:function(t,e,i){this.dataModel.get(t).removeCellClassName(e,i)},removeRowClassName:function(t,e){this.dataModel.get(t).removeClassName(e)},getRowSpanData:function(t,e){var i=this.dataModel.get(t);return i?i.getRowSpanData(e):void 0},getIndexOfRow:function(t){return this.dataModel.indexOfRowKey(t)},setDisplayRowCount:function(t){this.dimensionModel.set("displayRowCount",t)},filterData:function(t,e){},enable:function(){},disable:function(){},setSize:function(t,e){t>0&&this.$el.width(t),e>0&&this.dimensionModel.setHeight(e),this.updateLayoutData()},setScrollHandlerPosition:function(){},destroy:function(){this.stopListening(),this.destroyChildren(),_.each(this,function(t,e){"publicInstance"!==e&&(t instanceof n&&t&&ne.util.isFunction(t.destroy)&&t.destroy(),"view"===e&&_.each(t,function(t){t&&ne.util.isFunction(t.destroy)&&t.destroy()},this)),t&&ne.util.isFunction(t._destroy)&&t._destroy(),t&&ne.util.isFunction(t.stopListening)&&t.stopListening(),"$el"!==e&&"__$el"!==e&&(this[e]=null)},this),this.$el.replaceWith(this.__$el),this.$el=this.__$el=null}});x.prototype.__instance=x.prototype.__instance||{},e.exports=x},{"./addon/net":2,"./base/view":7,"./data/columnModel":9,"./data/rowList":11,"./model/dimension":13,"./model/focus":14,"./model/renderer":16,"./model/renderer-smart":15,"./util":19,"./view/cellFactory":20,"./view/clipboard":21,"./view/layer/empty":23,"./view/layer/loading":24,"./view/layer/ready":25,"./view/layout/frame-lside":27,"./view/layout/frame-rside":28,"./view/layout/toolbar":32,"./view/selection":48}],9:[function(t,e,i){"use strict";var n=t("../base/model"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.textType={normal:!0,text:!0,"text-password":!0,"text-convertible":!0},this._setColumnModelList(this.get("columnModelList"),this.get("columnFixIndex")),this.on("change",this._onChange,this)},defaults:{keyColumnName:null,columnFixIndex:0,columnModelList:[],visibleList:[],hasNumberColumn:!0,selectType:"",columnModelMap:{},relationListMap:{}},_initializeNumberColumn:function(t){var e=this.get("hasNumberColumn"),i={columnName:"_number",title:"No.",width:60};return e||(i.isHidden=!0),t=this._extendColumn(i,t)},_initializeButtonColumn:function(t){var e=this.get("selectType"),i={columnName:"_button",isHidden:!1,editOption:{type:e,list:[{value:"selected"}]},width:50};return"checkbox"===e?i.title='<input type="checkbox"/>':"radio"===e?i.title="선택":i.isHidden=!0,t=this._extendColumn(i,t)},_extendColumn:function(t,e){var i;return ne.util.isUndefined(t)||ne.util.isUndefined(t.columnName)||(i=this._indexOfColumnName(t.columnName,e),-1===i?e=_.union([t],e):e[i]=$.extend(e[i],t)),e},at:function(t,e){var i=e?this.getVisibleColumnModelList():this.get("columnModelList");return i[t]},indexOfColumnName:function(t,e){var i;return i=e||void 0===e?this.getVisibleColumnModelList():this.get("columnModelList"),this._indexOfColumnName(t,i)},_indexOfColumnName:function(t,e){for(var i=0,n=e.length;n>i;i+=1)if(e[i].columnName===t)return i;return-1},isLside:function(t){var e=this.indexOfColumnName(t,!0),i=!1;return e>=0&&this.get("columnFixIndex")>e&&(i=!0),i},getVisibleColumnModelList:function(t){var e=[],i=this.get("columnFixIndex");return t=t?t.toUpperCase():void 0,e="L"===t?this.get("visibleList").slice(0,i):"R"===t?this.get("visibleList").slice(i):this.get("visibleList")},getColumnModel:function(t){return this.get("columnModelMap")[t]},isTextType:function(t){return!!this.textType[this.getEditType(t)]},getEditType:function(t){var e=this.getColumnModel(t),i="normal";return"_button"===t||"_number"===t?i=t:e&&e.editOption&&e.editOption.type&&(i=e.editOption.type),i},_getVisibleList:function(t){return _.filter(t,function(t){return!t.isHidden})},_getRelationListMap:function(t){var e,i={};return ne.util.forEachArray(t,function(t){e=t.columnName,t.relationList&&(i[e]=t.relationList)}),i},getIgnoredColumnNameList:function(){var t=this.get("columnModelList"),e=[];return _.each(t,function(t){t.isIgnore&&e.push(t.columnName)}),e},_setColumnModelList:function(t,e){var i;t=$.extend(!0,[],t),t=this._initializeNumberColumn(this._initializeButtonColumn(t)),i=this._getVisibleList(t),this.set({columnModelList:t,columnModelMap:_.indexBy(t,"columnName"),relationListMap:this._getRelationListMap(t),columnFixIndex:e,visibleList:i},{silent:!0}),this.trigger("columnModelChange")},_onChange:function(t){var e=t.changed,i=e.columnModelList||this.get("columnModelList"),n=e.columnFixIndex?e.columnFixIndex:this.get("columnFixIndex");this._setColumnModelList(i,n)}});e.exports=o},{"../base/model":5}],10:[function(t,e,i){"use strict";var n=t("../base/model"),o=t("../util"),s=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments)},idAttribute:"rowKey",defaults:{_extraData:{rowState:null}},getRowState:function(){var t=this.get("_extraData"),e=t&&t.rowState,i=!1,n=!1,o=!1;return"DISABLED"===e?n=!0:"DISABLED_CHECK"===e?i=!0:"CHECKED"===e&&(o=!0),i=n?n:i,{isDisabled:n,isDisabledCheck:i,isChecked:o}},getClassNameList:function(t){var e,i=[],n=this.grid.columnModel.getColumnModel(t),o=this.get("_extraData"),s=o.className,r=s&&s.row?s.row:[],a=s&&s.column&&s.column[t]?s.column[t]:[],l={},u=[];return n.className&&u.push(n.className),n.isEllipsis&&u.push("ellipsis"),e=[i,r,a,u],ne.util.forEachArray(e,function(t){ne.util.forEachArray(t,function(t){var e=t.slice(" ");ne.util.isArray(e)?ne.util.forEachArray(e,function(t){l[t]=!0}):l[t]=!0})}),ne.util.forEach(l,function(t,e){i.push(e)}),i},getCellState:function(t){var e,i,n=["_number","normal"],o=this.grid.columnModel,s=!1,r=!0,a=o.getEditType(t);return i=this.getRelationResult(["isDisabled","isEditable"])[t],e=this.getRowState(),s="_button"===t?e.isDisabledCheck:e.isDisabled,s=s||!(!i||!i.isDisabled),r=-1!==$.inArray(a,n)?!1:!(i&&i.isEditable===!1),{isEditable:r,isDisabled:s}},isEditable:function(t){var e=["_number","normal"],i=this.grid.columnModel.getEditType(t),n=!1;return-1===$.inArray(i,e)&&(n=this.getCellState(t).isEditable),n},isDisabled:function(t){var e;return e=this.getCellState(t),e.isDisabled},getRowSpanData:function(t){var e=this.get("_extraData"),i=null;return this.collection.isRowSpanEnable()&&(t?e&&e.rowSpanData&&e.rowSpanData[t]&&(i=e.rowSpanData[t]):i=e.rowSpanData),!i&&t&&(i={count:0,isMainRow:!0,mainRowKey:this.get("rowKey")}),i},setExtraData:function(t,e){var i=$.extend(!0,{},this.get("_extraData"),t);this.set("_extraData",i,{silent:e})},setRowSpanData:function(t,e){var i,n;if(t)if(ne.util.isFalsy(e)){if(i=this._getExtraDataClone(),!i)return;n=i.rowSpanData,n&&n[t]&&(delete n[t],_.isEmpty(n)&&(i.rowSpanData=null),this.set("_extraData",i))}else n={},n[t]=e,this.setExtraData({rowSpanData:n},!0)},setRowState:function(t,e){this.setExtraData({rowState:t},e)},_getExtraDataClone:function(){return $.extend(!0,{},this.get("_extraData"))},addCellClassName:function(t,e){var i,n,o=this._getExtraDataClone();ne.util.isUndefined(o)||(i=o.className||{},i.column=i.column||{},n=i.column[t]||[],-1===ne.util.inArray(e,n)&&(n.push(e),i.column[t]=n,this.setExtraData({className:i})))},addClassName:function(t){var e,i,n=this._getExtraDataClone();ne.util.isUndefined(n)||(e=n.className||{},i=e.row||[],-1===ne.util.inArray(t,i)&&(i.push(t),e.row=i,this.setExtraData({className:e})))},removeCellClassName:function(t,e){var i,n=this._getExtraDataClone();ne.util.isExisty(ne.util.pick(n,"className","column",t))&&(i=n.className,i.column[t]=this._removeClassNameFromArray(i.column[t],e),this.set("_extraData",n))},removeClassName:function(t){var e,i=this._getExtraDataClone();i&&i.className&&i.className.row&&(e=i.className,e.row=this._removeClassNameFromArray(e.row,t),this.set("_extraData",i))},_removeClassNameFromArray:function(t,e){var i=t.join(" ");return t=i.split(" "),_.without(t,e)},getHTMLEncodedString:function(t){var e=this.grid.columnModel.getColumnModel(t),i=this.grid.columnModel.isTextType(t),n=this.get(t),o=e.notUseHtmlEntity;return!o&&i&&ne.util.hasEncodableString(n)&&(n=ne.util.encodeHTMLEntity(n)),n},_getListTypeVisibleText:function(t){var e,i,n,s,r=this.get(t),a=this.grid.columnModel.getColumnModel(t);return ne.util.isExisty(ne.util.pick(a,"editOption","list"))?(e=this.getRelationResult(["optionListChange"])[t],i=e&&e.optionList?e.optionList:a.editOption.list,n=typeof i[0].value,s=r.toString().split(","),n!==typeof s[0]&&(s=_.map(s,function(t){return o.convertValueType(t,n)})),_.each(s,function(t,e){var n=_.findWhere(i,{value:t});s[e]=n&&n.text||""},this),s.join(",")):void 0},isDuplicatedPublicChanged:function(t){return this._timeoutIdForChanged&&_.isEqual(this._lastPublicChanged,t)?!0:(clearTimeout(this._timeoutIdForChanged),
this._timeoutIdForChanged=setTimeout(_.bind(function(){this._timeoutIdForChanged=null},this),10),this._lastPublicChanged=t,!1)},getVisibleText:function(t){var e,i,n=this.grid.columnModel,s=this.get(t),r={select:!0,radio:!0,checkbox:!0};if(n)if(e=n.getEditType(t),i=n.getColumnModel(t),r[e]){if(!ne.util.isExisty(ne.util.pick(i,"editOption","list",0,"value")))throw this.error('Check "'+t+"\"'s editOption.list property out in your ColumnModel.");s=this._getListTypeVisibleText(t)}else _.isFunction(i.formatter)&&(s=o.stripTags(i.formatter(this.getHTMLEncodedString(t),this.toJSON(),i)));return s=ne.util.isUndefined(s)?s:s.toString()},getRelationResult:function(t){var e,i,n,o,s=this.attributes,r=this.grid.columnModel.get("relationListMap"),a={},l=this.getRowState();return t=t&&t.length?t:["optionListChange","isDisabled","isEditable"],_.each(r,function(r,u){o=s[u],_.each(r,function(r){n=r.columnList,_.each(t,function(t){l.isDisabled&&"isDisabled"===t||(e=r[t],"function"==typeof e&&(i="","optionListChange"===t?i="optionList":"isDisabled"===t?i="isDisabled":"isEditable"===t&&(i="isEditable"),i&&_.each(n,function(t){a[t]=a[t]||{},a[t][i]=e(o,s)},this)))},this)},this)},this),a}});e.exports=s},{"../base/model":5,"../util":19}],11:[function(t,e,i){"use strict";var n=t("../base/collection"),o=t("./row"),s=n.extend({model:o,initialize:function(t,e){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({lastRowKey:-1,originalRowList:[],originalRowMap:{},startIndex:e.startIndex||1,privateProperties:["_button","_number","_extraData"],sortOptions:{columnName:"rowKey",isAscending:!0,useClient:ne.util.isBoolean(e.useClientSort)?e.useClientSort:!0}}),this.sortOptions.useClient||(this.comparator=null),this.on("change",this._onChange,this)},parse:function(t){return t=t&&t.contents||t,this._formatData(t)},_formatData:function(t){var e=t;return _.each(e,function(t,i){e[i]=this._baseFormat(e[i]),this.isRowSpanEnable()&&this._setExtraRowSpanData(e,i)},this),e},_baseFormat:function(t){var e={rowSpan:null,rowSpanData:null,rowState:null},i=this.grid.columnModel.get("keyColumnName"),n=null===i?this._createRowKey():t[i];return t._extraData=$.extend(e,t._extraData),t._button="CHECKED"===t._extraData.rowState,t.rowKey=n,t},_createRowKey:function(){return this.lastRowKey+=1,this.lastRowKey},_setExtraRowSpanData:function(t,e){function i(t,e){var i=t._extraData;return!(!i.rowSpanData||!i.rowSpanData[e])}function n(t,e,i){var n=t._extraData;return n.rowSpanData=n&&n.rowSpanData||{},n.rowSpanData[e]=i,n}var o,s,r,a=t[e],l=a&&a._extraData&&a._extraData.rowSpan,u=a&&a.rowKey;return l&&_.each(l,function(l,h){if(!i(a,h))for(n(a,h,{count:l,isMainRow:!0,mainRowKey:u}),o=-1,r=e+1;e+l>r;r+=1)s=t[r],s[h]=a[h],s._extraData=s._extraData||{},n(s,h,{count:o,isMainRow:!1,mainRowKey:u}),o-=1}),t},setOriginalRowList:function(t){return this.originalRowList=t?this._formatData(t):this.toJSON(),this.originalRowMap=_.indexBy(this.originalRowList,"rowKey"),this.originalRowList},getOriginalRowList:function(t){return t=void 0===t?!0:t,t?_.clone(this.originalRowList):this.originalRowList},getOriginalRow:function(t){return _.clone(this.originalRowMap[t])},getOriginal:function(t,e){return _.clone(this.originalRowMap[t][e])},getMainRowKey:function(t,e){var i,n=this.get(t);return this.isRowSpanEnable()&&(i=n&&n.getRowSpanData(e),t=i?i.mainRowKey:t),t},indexOfRowKey:function(t){return this.indexOf(this.get(t))},_isPrivateProperty:function(t){return-1!==$.inArray(t,this.privateProperties)},isRowSpanEnable:function(){return!this.isSortedByField()},isSortedByField:function(){return"rowKey"!==this.sortOptions.columnName},setSortOptionValues:function(t,e,i){var n=this.sortOptions,o=!1;ne.util.isUndefined(t)&&(t="rowKey"),ne.util.isUndefined(e)&&(e=!0),(n.columnName!==t||n.isAscending!==e)&&(o=!0),n.columnName=t,n.isAscending=e,o&&this.trigger("sortChanged",{columnName:t,isAscending:e,isRequireFetch:i})},sortByField:function(t,e){var i=this.sortOptions;ne.util.isUndefined(e)&&(e=i.columnName===t?!i.isAscending:!0),this.setSortOptionValues(t,e,!i.useClient),i.useClient&&this.sort()},getRowList:function(t,e){var i,n;return t?(n=this.where({_button:!0}),i=[],_.each(n,function(t){i.push(t.attributes)},this)):i=this.toJSON(),e?i:this._removePrivateProp(i)},_onChange:function(t){var e,i=_.omit(t.changed,this.privateProperties);t.isDuplicatedPublicChanged(i)||_.each(i,function(i,n){e=this.grid.columnModel.getColumnModel(n),e&&this._executeChangeBeforeCallback(t,n)&&(this._syncRowSpannedData(t,n,i),this._executeChangeAfterCallback(t,n),t.getRowState().isDisabledCheck||e.isIgnore||t.set("_button",!0))},this)},_syncRowSpannedData:function(t,e,i){var n,o,s;if(this.isRowSpanEnable())if(o=t.getRowSpanData(e),o.isMainRow)for(n=this.indexOfRowKey(t.get("rowKey")),s=0;s<o.count-1;s+=1)this.at(s+1+n).set(e,i);else this.get(o.mainRowKey).set(e,i)},_createChangeCallbackEvent:function(t,e){return{rowKey:t.get("rowKey"),columnName:e,value:t.get(e),instance:this.grid.publicInstance}},_executeChangeBeforeCallback:function(t,e){var i,n,o=this.grid.columnModel.getColumnModel(e);return o.editOption&&o.editOption.changeBeforeCallback&&(i=this._createChangeCallbackEvent(t,e),o.editOption.changeBeforeCallback(i)===!1)?(n={},n[e]=t.previous(e),t.set(n),t.trigger("restore",{changed:n}),!1):!0},_executeChangeAfterCallback:function(t,e){var i,n=this.grid.columnModel.getColumnModel(e);return n.editOption&&n.editOption.changeAfterCallback?(i=this._createChangeCallbackEvent(t,e),!!n.editOption.changeAfterCallback(i)):!0},comparator:function(t,e){var i=this.sortOptions.columnName,n=this.sortOptions.isAscending,o=t.get(i),s=e.get(i),r=0;return s>o?r=-1:o>s&&(r=1),n||(r=-r),r},_removePrivateProp:function(t){var e,i=[];return _.each(t,function(t){e={},_.each(t,function(t,i){this._isPrivateProperty(i)||(e[i]=t)},this),i.push(e)},this),i},removeRow:function(t,e){var i,n,o,s=this.get(t);s&&(e&&e.keepRowSpanData&&(o=_.clone(s.attributes)),i=_.clone(s.getRowSpanData()),n=this.at(this.indexOf(s)+1),this.remove(s,{silent:!0}),this._syncRowSpanDataForRemove(i,n,o),e&&e.removeOriginalData&&this.setOriginalRowList(),this.trigger("remove"))},_syncRowSpanDataForRemove:function(t,e,i){t&&_.each(t,function(t,n){var o,s,r,a={};if(t.isMainRow){if(1===t.count)return;o=e,r=t.count-1,s=1,r>1&&(a.mainRowKey=o.get("rowKey"),a.isMainRow=!0),o.set(n,i?i[n]:"",{silent:!0})}else o=this.get(t.mainRowKey),r=o.getRowSpanData(n).count-1,s=-t.count;r>1?(a.count=r,o.setRowSpanData(n,a),this._updateSubRowSpanData(o,n,s,r)):o.setRowSpanData(n,null)},this)},_createDummyRow:function(){var t=this.grid.columnModel.get("columnModelList"),e={};return _.each(t,function(t){e[t.columnName]=""},this),e},append:function(t,e){var i,n=this._createModelList(t);return e=_.extend({at:this.length},e),i={at:e.at,add:!0,silent:!0},this.add(n,i),this._syncRowSpanDataForAppend(e.at,n.length,e.extendPrevRowSpan),this.trigger("add",n,i),n},prepend:function(t){return this.append(t,{at:0})},_createModelList:function(t){var e,i=[];return t=t||this._createDummyRow(),ne.util.isArray(t)||(t=[t]),e=this._formatData(t),_.each(e,function(t){t._button=!0,i.push(new o(t,{collection:this}))},this),i},_syncRowSpanDataForAppend:function(t,e,i){var n=this.at(t-1);n&&_.each(n.getRowSpanData(),function(t,o){var s,r,a,l;0!==t.count&&(t.isMainRow?(s=n,r=t,a=1):(s=this.get(t.mainRowKey),r=s.getRowSpanData()[o],a=-t.count+1),(r.count>a||i)&&(r.count+=e,l=r.count,this._updateSubRowSpanData(s,o,a,l)))},this)},_updateSubRowSpanData:function(t,e,i,n){var o,s,r=this.indexOf(t),a=t.get("rowKey");for(s=i;n>s;s+=1)o=this.at(r+s),o.set(e,"",{silent:!0}),o.setRowSpanData(e,{count:-s,mainRowKey:a,isMainRow:!1})},_isModifiedRow:function(t,e,i){var n=_.omit(t,i),o=_.some(n,function(t,i){return"object"==typeof t?$.toJSON(t)!==$.toJSON(e[i]):t!==e[i]},this);return o},getModifiedRowList:function(t){var e=t&&t.isRaw,i=t&&t.isOnlyChecked,n=t&&t.isOnlyRowKeyList,o=e?this.originalRowList:this._removePrivateProp(this.originalRowList),s=e?this.toJSON():this._removePrivateProp(this.toJSON()),r=t&&t.filteringColumnList,a={createList:[],updateList:[],deleteList:[]};return o=_.indexBy(o,"rowKey"),s=_.indexBy(s,"rowKey"),r=_.union(r,this.grid.columnModel.getIgnoredColumnNameList()),_.each(s,function(t,e){var s=o[e],l=n?t.rowKey:t;(!i||i&&this.get(e).get("_button"))&&(s?this._isModifiedRow(t,s,r)&&a.updateList.push(l):a.createList.push(l))},this),_.each(o,function(t,e){var i=n?t.rowKey:t;s[e]||a.deleteList.push(i)},this),a}});e.exports=s},{"../base/collection":3,"./row":10}],12:[function(t,e,i){"use strict";var n=t("./base/view"),o=t("./core");ne=window.ne=ne||{},ne.Grid=n.extend({initialize:function(t){t.publicInstance=this,this.core=new o(t),this.listenTo(this.core,"all",this._relayEvent,this)},_relayEvent:function(){this.trigger.apply(this,arguments)},disableRow:function(t){this.core.disableRow(t)},enableRow:function(t){this.core.enableRow(t)},getValue:function(t,e,i){return this.core.getValue(t,e,i)},getColumnValues:function(t,e){return this.core.getColumnValues(t,e)},getRow:function(t,e){return this.core.getRow(t,e)},getRowAt:function(t,e){return this.core.getRowAt(t,e)},getRowCount:function(){return this.core.getRowCount()},getSelectedRowKey:function(){return this.core.focusModel.which().rowKey},getElement:function(t,e){return this.core.getElement(t,e)},setValue:function(t,e,i){this.core.setValue(t,e,i)},setColumnValues:function(t,e,i){this.core.setColumnValues(t,e,i)},replaceRowList:function(t){this.core.replaceRowList(t)},setRowList:function(t,e){this.core.setRowList(t,!0,e)},focus:function(t,e,i){this.core.focusClipboard(),this.core.focus(t,e,i)},focusAt:function(t,e,i){this.core.focusAt(t,e,i)},focusIn:function(t,e,i){this.core.focusIn(t,e,i)},focusInAt:function(t,e,i){this.core.focusInAt(t,e,i)},readyForKeyControl:function(){this.core.readyForKeyControl()},blur:function(){this.core.blur()},checkAll:function(){this.core.checkAll()},check:function(t){this.core.check(t)},uncheckAll:function(){this.core.uncheckAll()},uncheck:function(t){this.core.uncheck(t)},clear:function(){this.core.clear()},removeRow:function(t,e){ne.util.isBoolean(e)&&e&&(e={removeOriginalData:!0}),this.core.removeRow(t,e)},removeCheckedRows:function(t){return this.core.removeCheckedRows(t)},enableCheck:function(t){this.core.enableCheck(t)},disableCheck:function(t){this.core.disableCheck(t)},getCheckedRowKeyList:function(t){var e=this.core.getCheckedRowKeyList();return t?$.toJSON(e):e},getCheckedRowList:function(t){var e=this.core.getCheckedRowList();return t?$.toJSON(e):e},getColumnModelList:function(){return this.core.getColumnModelList()},getModifiedRowList:function(t){return this.core.getModifiedRowList(t)},appendRow:function(t,e){this.core.appendRow(t,e)},prependRow:function(t){this.core.prependRow(t)},isChanged:function(){return this.core.isChanged()},getAddOn:function(t){return t?this.core.addOn[t]:this.core.addOn},restore:function(){this.core.restore()},select:function(t){this.core.select(t)},unselect:function(){this.core.unselect()},setColumnFixIndex:function(t){this.core.setColumnFixIndex(t)},setColumnModelList:function(t){this.core.setColumnModelList(t)},use:function(t,e){return this.core.use(t,e),this},getRowList:function(){return this.core.getRowList()},sort:function(t){this.core.sort(t)},unSort:function(){this.core.sort("rowKey")},addCellClassName:function(t,e,i){this.core.addCellClassName(t,e,i)},addRowClassName:function(t,e){this.core.addRowClassName(t,e)},removeCellClassName:function(t,e,i){this.core.removeCellClassName(t,e,i)},removeRowClassName:function(t,e){this.core.removeRowClassName(t,e)},getRowSpanData:function(t,e){this.core.getRowSpanData(t,e)},getIndexOfRow:function(t){return this.core.getIndexOfRow(t)},setDisplayRowCount:function(t){this.core.setDisplayRowCount(t)},setSize:function(t,e){this.core.setSize(t,e)},refreshLayout:function(){this.core.updateLayoutData()},destroy:function(){this.core.destroy(),this.core=null}}),ne.Grid.getInstanceById=function(t){return o.prototype.__instance[t]}},{"./base/view":7,"./core":8}],13:[function(t,e,i){"use strict";var n=t("../base/model"),o=t("../util"),s=1,r=1,a=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this._columnWidthFixedFlags=null,this._minColumnWidthList=null,this.columnModel=this.grid.columnModel,this.listenTo(this.columnModel,"columnModelChange",this._initColumnWidthVariables),this.listenTo(this.grid.dataModel,"add remove reset",this._resetTotalRowHeight),this.on("change:width",this._onWidthChange,this),this.on("change:displayRowCount",this._setBodyHeight,this),this._initColumnWidthVariables(),this._setBodyHeight()},models:null,columnModel:null,defaults:{offsetLeft:0,offsetTop:0,width:0,headerHeight:0,bodyHeight:0,toolbarHeight:0,rowHeight:0,totalRowHeight:0,rsideWidth:0,lsideWidth:0,columnWidthList:[],minimumColumnWidth:0,displayRowCount:1,scrollBarSize:17,scrollX:!0,scrollY:!0},_getAvailableTotalWidth:function(t){var e=this.get("width"),i=e-t-1;return this.get("scrollY")&&(i-=this.get("scrollBarSize")),this.columnModel.get("columnFixIndex")>0&&(i-=r),i},_applyMinimumColumnWidth:function(t){var e=this._minColumnWidthList,i=_.clone(t);return _.each(i,function(t,n){var o=e[n];o>t&&(i[n]=o)}),i},_resetTotalRowHeight:function(){var t=this.get("rowHeight"),e=this.grid.dataModel.length,i=e+1;this.set("totalRowHeight",t*e+i)},_fillEmptyColumnWidth:function(t){var e=this._getAvailableTotalWidth(t.length),i=e-o.sum(t),n=[];return _.each(t,function(t,e){t||n.push(e)}),this._distributeExtraWidthEqually(t,i,n)},_addExtraColumnWidth:function(t,e){var i=this._columnWidthFixedFlags,n=[];return _.each(i,function(t,e){t||n.push(e)}),this._distributeExtraWidthEqually(t,e,n)},_reduceExcessColumnWidth:function(t,e){var i=this._minColumnWidthList,n=this._columnWidthFixedFlags,o=[];return _.each(t,function(t,e){n[e]||o.push({index:e,width:t-i[e]})}),this._reduceExcessColumnWidthSub(_.clone(t),e,o)},_reduceExcessColumnWidthSub:function(t,e,i){var n,o=Math.round(e/i.length),s=[];return _.each(i,function(i){i.width<Math.abs(o)?(e+=i.width,t[i.index]-=i.width):s.push(i)}),i.length>s.length?this._reduceExcessColumnWidthSub(t,e,s):(n=_.pluck(i,"index"),this._distributeExtraWidthEqually(t,e,n))},_distributeExtraWidthEqually:function(t,e,i){var n=i.length,o=Math.round(e/n),s=o*n-e,r=_.clone(t);return _.each(i,function(t){r[t]+=o}),r[_.last(i)]-=s,r},_adjustColumnWidthList:function(t,e){var i,n=t.length,s=this._getAvailableTotalWidth(n),r=s-o.sum(t),a=_.filter(this._columnWidthFixedFlags).length;return r>0?n>a?i=this._addExtraColumnWidth(t,r):(i=_.clone(t),i[n-1]+=r):i=e&&0>r?this._reduceExcessColumnWidth(t,r):t,i},_initColumnWidthVariables:function(){var t,e=this.columnModel.get("visibleList"),i=this.get("minimumColumnWidth"),n=[],o=[],s=[];_.each(e,function(t){var e=t.width>0?t.width:0,r=Math.max(e,i);n.push(e?r:0),s.push(r),o.push(!!t.isFixedWidth)}),this._columnWidthFixedFlags=o,this._minColumnWidthList=s,t=_.compose(this._adjustColumnWidthList,this._applyMinimumColumnWidth,this._fillEmptyColumnWidth),this._setColumnWidthVariables(t.call(this,n),!0)},getFrameWidth:function(t){var e=this.grid.columnModel.get("columnFixIndex"),i=this.getColumnWidthList(t),n=this._getFrameWidth(i);return ne.util.isUndefined(t)&&e>0&&(n+=1),n},_getFrameWidth:function(t){var e=0;return t.length&&(e=o.sum(t)+(t.length+1)*r),e},_setColumnWidthVariables:function(t,e){var i,n,o,s,r=this.get("width"),a=this.columnModel.get("columnFixIndex"),l=this._getMaxLeftSideWidth();o=t.slice(0,a),s=t.slice(a),n=this._getFrameWidth(o),l&&n>l&&(o=this._adjustLeftSideWidthList(o,l),n=this._getFrameWidth(o),t=o.concat(s)),i=r-n,this.set({columnWidthList:t,rsideWidth:i,lsideWidth:n}),e&&this.set("originalWidthList",_.clone(t)),this.trigger("columnWidthChanged")},_getMinLeftSideWidth:function(){var t,e=this.get("minimumColumnWidth"),i=this.columnModel.get("columnFixIndex"),n=0;return i&&(t=(i+1)*r,n=t+e*i),n},_getMaxLeftSideWidth:function(){var t=Math.ceil(.9*this.get("width"));return t&&(t=Math.max(t,this._getMinLeftSideWidth())),t},getCellPosition:function(t,e){var i,n,s,r,a,l=0,u=0,h=this.grid.dataModel,c=this.get("rowHeight"),d=h.get(t).getRowSpanData(e),g=this.get("columnWidthList"),p=this.grid.columnModel.get("columnFixIndex"),m=this.grid.columnModel.indexOfColumnName(e,!0),f=1;for(d.isMainRow||(t=d.mainRowKey,d=h.get(t).getRowSpanData(e)),a=d.count||1,r=h.indexOfRowKey(t),i=o.getHeight(r,c),s=i+o.getHeight(a,c)-f,m>=p&&(u=p);m>u;u+=1)l+=g[u]+f;return n=l+g[u]+f,{top:i,left:l,right:n,bottom:s}},_adjustLeftSideWidthList:function(t,e){var i,n=t.length-1,o=this.get("minimumColumnWidth"),s=this._getFrameWidth(t),r=s-e;if(r>0)for(;n>=0&&r>0;)i=Math.max(o,t[n]-r),r-=t[n]-i,t[n]=i,n-=1;else 0>r&&(t[n]+=Math.abs(r));return t},_setBodyHeight:function(){var t=o.getHeight(this.get("displayRowCount"),this.get("rowHeight"));this.get("scrollX")&&(t+=this.get("scrollBarSize")),this.set("bodyHeight",t)},getDisplayRowCount:function(){return o.getDisplayRowCount(this.get("bodyHeight")-this.getScrollXHeight(),this.get("rowHeight"))},getScrollXHeight:function(){return+this.get("scrollX")*this.get("scrollBarSize")},_onWidthChange:function(){var t=this._adjustColumnWidthList(this.get("columnWidthList"),!0);this._setColumnWidthVariables(t)},setColumnWidth:function(t,e){var i,n=this.get("columnWidthList"),o=this._columnWidthFixedFlags,s=this._minColumnWidthList[t];!o[t]&&n[t]&&(n[t]=Math.max(e,s),o[t]=!0,i=this._adjustColumnWidthList(n),o[t]=!1,this._setColumnWidthVariables(i))},_getBodyHeight:function(t){return t-this.get("headerHeight")-this.get("toolbarHeight")-s},_getMinBodyHeight:function(){return this.get("rowHeight")+2*r+this.getScrollXHeight()},setHeight:function(t){this.set("bodyHeight",Math.max(this._getBodyHeight(t),this._getMinBodyHeight())),this.set("displayRowCount",this.getDisplayRowCount(),{silent:!0})},restoreColumnWidth:function(t){var e=this.get("originalWidthList")[t];this.setColumnWidth(t,e)},getColumnWidthList:function(t){var e=this.columnModel.get("columnFixIndex"),i=[];switch(t=t?t.toUpperCase():void 0){case"L":i=this.get("columnWidthList").slice(0,e);break;case"R":i=this.get("columnWidthList").slice(e);break;default:i=this.get("columnWidthList")}return i}});e.exports=a},{"../base/model":5,"../util":19}],14:[function(t,e,i){"use strict";var n=t("../base/model"),o=t("../util"),s=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments)},defaults:{rowKey:null,columnName:"",prevRowKey:null,prevColumnName:"",scrollX:!0,scrollY:!0,scrollBarSize:17},_savePrevious:function(){null!==this.get("rowKey")&&this.set("prevRowKey",this.get("rowKey")),this.get("columnName")&&this.set("prevColumnName",this.get("columnName"))},_clearPrevious:function(){this.set({prevRowKey:null,prevColumnName:""})},select:function(t){return this.unselect().set("rowKey",t),this.trigger("select",t),this},unselect:function(t){return t&&this.blur(),this.trigger("unselect",this.get("rowKey")),this.set({rowKey:null}),this},focus:function(t,e,i){var n,s=this.get("rowKey");return o.isBlank(t)||o.isBlank(e)?this:(this._savePrevious(),this.blur(),t!==s&&this.select(t),this.set("columnName",e),this.trigger("focus",t,e),i&&(n=this._getScrollPosition(),ne.util.isEmpty(n)||this.grid.renderModel.set(n)),this)},_getScrollPosition:function(){var t=this.which(),e=this.grid.dimensionModel,i=this.grid.renderModel,n=i.get("scrollTop"),o=i.get("scrollLeft"),s=e.get("bodyHeight"),r=e.get("rsideWidth"),a=e.getCellPosition(t.rowKey,t.columnName),l=o,u=o+r,h=+this.get("scrollX")*this.get("scrollBarSize"),c=+this.get("scrollY")*this.get("scrollBarSize"),d={};return a.top<n?d.scrollTop=a.top:a.bottom>s+n-h&&(d.scrollTop=a.bottom-s+h),this.grid.columnModel.isLside(t.columnName)||(a.left<l?d.scrollLeft=a.left:a.right>u&&(d.scrollLeft=a.right-r+c+1)),d},blur:function(){return this.has()&&(this.trigger("blur",this.get("rowKey"),this.get("columnName")),null!==this.get("rowKey")&&this.set("columnName","")),this},which:function(){return{rowKey:this.get("rowKey"),columnName:this.get("columnName")}},indexOf:function(t){var e=t?this.get("prevRowKey"):this.get("rowKey"),i=t?this.get("prevColumnName"):this.get("columnName");return{rowIdx:this.grid.dataModel.indexOfRowKey(e),columnIdx:this.grid.columnModel.indexOfColumnName(i,!0)}},has:function(){var t=!o.isBlank(this.get("rowKey"))&&!o.isBlank(this.get("columnName"));return t},_findRowKey:function(t){var e,i,n=this.grid.dataModel;return this.has()?(e=Math.max(Math.min(n.indexOfRowKey(this.get("rowKey"))+t,this.grid.dataModel.length-1),0),i=n.at(e),i&&i.get("rowKey")):void 0},_findColumnName:function(t){var e,i=this.grid.columnModel,n=i.getVisibleColumnModelList(),o=i.indexOfColumnName(this.get("columnName"),!0);return this.has()?(e=Math.max(Math.min(o+t,n.length-1),0),n[e]&&n[e].columnName):void 0},_getRowSpanData:function(t,e){return this.grid.dataModel.get(t).getRowSpanData(e)},nextRowIndex:function(t){var e=this.nextRowKey(t);return this.grid.dataModel.indexOfRowKey(e)},prevRowIndex:function(t){var e=this.prevRowKey(t);return this.grid.dataModel.indexOfRowKey(e)},nextColumnIndex:function(){var t=this.nextColumnName();return this.grid.columnModel.indexOfColumnName(t,!0)},prevColumnIndex:function(){var t=this.prevColumnName();return this.grid.columnModel.indexOfColumnName(t,!0)},nextRowKey:function(t){var e,i,n=this.which(),o=n.rowKey;return t="number"==typeof t?t:1,t>1?(o=this._findRowKey(t),i=this._getRowSpanData(o,n.columnName),i.isMainRow||(o=this._findRowKey(i.count+t))):(i=this._getRowSpanData(o,n.columnName),i.isMainRow&&i.count>0?o=this._findRowKey(i.count):i.isMainRow?o=this._findRowKey(1):(e=i.count,i=this._getRowSpanData(i.mainRowKey,n.columnName),o=this._findRowKey(i.count+e))),o},prevRowKey:function(t){var e,i=this.which(),n=i.rowKey;return t="number"==typeof t?t:1,t*=-1,-1>t?(n=this._findRowKey(t),e=this._getRowSpanData(n,i.columnName),e.isMainRow||(n=this._findRowKey(e.count+t))):(e=this._getRowSpanData(n,i.columnName),n=e.isMainRow?this._findRowKey(-1):this._findRowKey(e.count-1)),n},nextColumnName:function(){return this._findColumnName(1)},prevColumnName:function(){return this._findColumnName(-1)},firstRowKey:function(){return this.grid.dataModel.at(0).get("rowKey")},lastRowKey:function(){return this.grid.dataModel.at(this.grid.dataModel.length-1).get("rowKey")},firstColumnName:function(){var t=this.grid.columnModel.getVisibleColumnModelList();return t[0].columnName},lastColumnName:function(){var t=this.grid.columnModel.getVisibleColumnModelList(),e=t.length-1;return t[e].columnName}});e.exports=s},{"../base/model":5,"../util":19}],15:[function(t,e,i){"use strict";var n=t("./renderer"),o=t("../util"),s=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.on("change:scrollTop",this._onChange,this),this.listenTo(this.grid.dimensionModel,"change:bodyHeight",this._onChange,this),this.setOwnProperties({hiddenRowCount:10,criticalPoint:3})},_onChange:function(){this._isRenderable(this.get("scrollTop"))&&this.refresh()},_setRenderingRange:function(t){var e,i=this.grid.dimensionModel,n=this.grid.dataModel,s=i.get("rowHeight"),r=i.getDisplayRowCount(),a=Math.max(0,Math.ceil(t/(s+1))-this.hiddenRowCount),l=Math.min(n.length-1,a+r+2*this.hiddenRowCount);n.isRowSpanEnable()&&(a+=this._getStartRowSpanMinCount(a),l+=this._getEndRowSpanMaxCount(l)),e=0===a?0:o.getHeight(a,s)-1,this.set({top:e,startIndex:a,endIndex:l})},_getStartRowSpanMinCount:function(t){var e,i=this.grid.dataModel.at(t),n=0;return i&&(e=_.pluck(i.getRowSpanData(),"count"),e.push(0),n=_.min(e)),n},_getEndRowSpanMaxCount:function(t){var e,i=this.grid.dataModel.at(t),n=0;return i&&(e=_.pluck(i.getRowSpanData(),"count"),e.push(0),n=_.max(e)),n},_isRenderable:function(t){var e=this.grid,i=e.dimensionModel,n=e.dataModel,o=i.get("rowHeight"),s=i.get("bodyHeight"),r=n.length,a=Math.max(0,Math.ceil(t/(o+1))),l=Math.min(n.length-1,Math.floor((t+s)/(o+1))),u=this.get("startIndex"),h=this.get("endIndex");return 0!==u&&u+this.criticalPoint>a?!0:h!==r-1&&h-this.criticalPoint<l?!0:!1}});e.exports=s},{"../util":19,"./renderer":16}],16:[function(t,e,i){"use strict";var n=t("../base/model"),o=t("./rowList"),s=n.extend({initialize:function(){var t,e;n.prototype.initialize.apply(this,arguments),this.setOwnProperties({timeoutIdForRowListChange:0,timeoutIdForRefresh:0,isColumnModelChanged:!1}),t=new o([],{grid:this.grid}),e=new o([],{grid:this.grid}),this.set({lside:t,rside:e}),this.listenTo(this.grid.columnModel,"all",this._onColumnModelChange,this).listenTo(this.grid.dataModel,"add remove sort reset",this._onRowListChange,this).listenTo(this.grid.dimensionModel,"change:width",this._onWidthChange,this).listenTo(t,"valueChange",this._onValueChange,this).listenTo(e,"valueChange",this._onValueChange,this)},defaults:{top:0,scrollTop:0,scrollLeft:0,maxScrollLeft:0,startIndex:0,endIndex:0,startNumber:1,lside:null,rside:null},_onValueChange:function(t){this.executeRelation(t)},_onWidthChange:function(){var t=this.grid.dimensionModel;this.set("maxScrollLeft",t.getFrameWidth("R")-t.get("rsideWidth"))},initializeVariables:function(){this.set({top:0,scrollTop:0,$scrollTarget:null,scrollLeft:0,startIndex:0,endIndex:0,startNumber:1})},getCollection:function(t){return this.get(ne.util.isString(t)?t.toLowerCase()+"side":"rside")},_onColumnModelChange:function(){this.set({scrollTop:0,top:0,startIndex:0,endIndex:0}),this.isColumnModelChanged=!0,clearTimeout(this.timeoutIdForRefresh),this.timeoutIdForRefresh=setTimeout($.proxy(this.refresh,this),0)},_onRowListChange:function(){clearTimeout(this.timeoutIdForRefresh),this.timeoutIdForRefresh=setTimeout($.proxy(this.refresh,this,!0),0)},_setRenderingRange:function(){this.set({startIndex:0,endIndex:this.grid.dataModel.length-1})},refresh:function(t){this._setRenderingRange(this.get("scrollTop"));var e,i,n,o,s=this.grid.columnModel.get("columnFixIndex"),r=this.grid.columnModel.get("visibleList"),a=_.pluck(r,"columnName"),l=a.slice(0,s),u=a.slice(s),h=[],c=[],d=[],g=[],p=this.get("startIndex"),m=this.get("endIndex"),f=this.get("startNumber")+p;for(i=p;m+1>i;i+=1)n=this.grid.dataModel.at(i),n&&(o=n.get("rowKey"),d={_extraData:n.get("_extraData"),rowKey:o},g={_extraData:n.get("_extraData"),rowKey:o},_.each(l,function(t){"_number"===t?d[t]=f++:d[t]=n.get(t)}),_.each(u,function(t){"_number"===t?g[t]=f++:g[t]=n.get(t)}),h.push(d),c.push(g));for(this.get("lside").clear().reset(h,{parse:!0}),this.get("rside").clear().reset(c,{parse:!0}),e=c.length+p,i=p;e>i;i+=1)this.executeRelation(i);this.isColumnModelChanged?(this.trigger("columnModelChanged"),this.isColumnModelChanged=!1):this.trigger("rowListChanged",t),this.trigger("refresh")},_getCollectionByColumnName:function(t){var e,i=this.get("lside");return e=i.at(0)&&i.at(0).get(t)?i:this.get("rside")},getCellData:function(t,e){var i=this._getCollectionByColumnName(e),n=i.get(t);return n?n.get(e):void 0},executeRelation:function(t){var e,i,n=this.grid.dataModel.at(t),o=t-this.get("startIndex");i=n.getRelationResult(),_.each(i,function(t,i){e=this._getCollectionByColumnName(i).at(o),e&&e.setCell(i,t)},this)},_destroy:function(){clearTimeout(this.timeoutIdForRefresh)}});e.exports=s},{"../base/model":5,"./rowList":18}],17:[function(t,e,i){"use strict";var n=t("../base/model"),o=t("../util"),s=n.extend({initialize:function(t,e){var i;n.prototype.initialize.apply(this,arguments),i=t&&t.rowKey,this.setOwnProperties({dataModel:this.grid.dataModel,columnModel:this.grid.columnModel,renderModel:this.grid.renderModel}),this.dataModel.get(i)&&(this.listenTo(this.dataModel.get(i),"change",this._onDataModelChange,this),this.listenTo(this.dataModel.get(i),"restore",this._onDataModelChange,this))},idAttribute:"rowKey",_onDataModelChange:function(t){_.each(t.changed,function(t,e){"_extraData"===e?this._setRowExtraData():this.setCell(e,{value:t})},this)},_setRowExtraData:function(){var t,e=this.dataModel,i=this.columnModel.getVisibleColumnModelList(),n=this.dataModel.get(this.get("rowKey")),o=n.getRowState();ne.util.isUndefined(this.collection)||_.each(i,function(i){var s,r,a=i.columnName,l=this.get(a),u=this;ne.util.isUndefined(l)||(s=n.isEditable(a),r="_button"===a?o.isDisabledCheck:o.isDisabled,e.isRowSpanEnable()&&!l.isMainRow&&(u=this.collection.get(l.mainRowKey)),u&&(t={isDisabled:r,isEditable:s,className:n.getClassNameList(a).join(" ")},u.setCell(a,t)))},this)},parse:function(t){return this._formatData(t)},_formatData:function(t){var e=this.grid||this.collection.grid,i=e.dataModel,n=t.rowKey,o=i.get(n),s=o.getRowState(),r=s.isDisabled;return _.each(t,function(e,a){var l,u=o.isEditable(a);"rowKey"!==a&&"_extraData"!==a&&(l=i.isRowSpanEnable()&&t._extraData&&t._extraData.rowSpanData&&t._extraData.rowSpanData[a]?t._extraData.rowSpanData[a]:{mainRowKey:n,count:0,isMainRow:!0},r="_button"===a?s.isDisabledCheck:r,t[a]={rowKey:n,columnName:a,value:e,rowSpan:l.count,isMainRow:l.isMainRow,mainRowKey:l.mainRowKey,isEditable:u,isDisabled:r,optionList:[],className:o.getClassNameList(a).join(" "),changed:[]})},this),t},setCell:function(t,e){var i,n,s,r=!1,a=[];this.get(t)&&(n=this.get("rowKey"),s=_.clone(this.get(t)),_.each(e,function(t,e){o.isEqual(s[e],t)||(r="value"===e?!0:r,s[e]=t,a.push(e))},this),a.length&&(s.changed=a,this.set(t,s),r&&(i=this.dataModel.indexOfRowKey(n),this.trigger("valueChange",i))))}});e.exports=s},{"../base/model":5,"../util":19}],18:[function(t,e,i){"use strict";var n=t("../base/collection"),o=t("./row"),s=n.extend({model:o,initialize:function(){n.prototype.initialize.apply(this,arguments)}});e.exports=s},{"../base/collection":3,"./row":17}],19:[function(t,e,i){"use strict";var n={uniqueId:0,getAttributesString:function(t){var e="";return _.each(t,function(t,i){e+=" "+i+'="'+t+'"'},this),e},template:function(t,e){var i,n=[];return ne.util.isArray(e)||(e=[e]),ne.util.forEach(e,function(e){i=t.replace(/<%=([^%]+)%>/g,function(t,i){return e[i]?e[i].toString():""}),n.push(i)}),n},sum:function(t){return _.reduce(t,function(t,e){return t+=e},0)},getHeight:function(t,e){return 0===t?t:t*(e+1)+1},getDisplayRowCount:function(t,e){return Math.ceil((t-1)/(e+1))},getRowHeight:function(t,e){return 0===t?0:Math.floor((e-1)/t)-1},isEqual:function(t,e){var i,n=function(t,e){var i,n=!0;for(i in t)if(t[i]!==e[i]){n=!1;break}return n};return typeof t!=typeof e?!1:ne.util.isArray(t)&&t.length!==e.length?!1:"object"==typeof t?(i=!n(t,e)||!n(e,t),!i):t!==e?!1:!0},isBlank:function(t){return ne.util.isString(t)?!t.length:void 0===t||null===t},stripTags:function(t){var e;return t=t.replace(/[\n\r\t]/g,""),ne.util.hasEncodableString(t)&&(/<img/i.test(t)?(e=t.match(/<img[^>]*\ssrc=[\"']?([^>\"']+)[\"']?[^>]*>/i),t=e?e[1]:""):t=t.replace(/<button.*?<\/button>/gi,""),t=$.trim(ne.util.decodeHTMLEntity(t.replace(/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/gi,"")))),t},getUniqueKey:function(){return this.uniqueId+=1,this.uniqueId},toQueryString:function(t){var e=[];return ne.util.forEach(t,function(t,i){"string"!=typeof t&&"number"!=typeof t&&(t=$.toJSON(t)),t=encodeURIComponent(t),e.push(i+"="+t)},this),e.join("&")},toQueryObject:function(t){var e=t.split("&"),i={};return ne.util.forEach(e,function(t){var e,n,o=t.split("=");e=o[0],n=decodeURIComponent(o[1]);try{n=$.parseJSON(n)}catch(s){}i[e]=n},this),i},convertValueType:function(t,e){return"string"===e?t.toString():"number"===e?+t:t},toUpperCaseFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},form:{setInput:{_changeToStringInArray:function(t){return ne.util.forEach(t,function(e,i){t[i]=String(e)},this),t},radio:function(t,e){t.checked=t.value===e},checkbox:function(t,e){ne.util.isArray(e)?t.checked=-1!==$.inArray(t.value,this._changeToStringInArray(e)):t.checked=t.value===e},"select-one":function(t,e){var i=ne.util.toArray(t.options),n=-1;ne.util.forEach(i,function(t,i){return t.value===e||t.text===e?(n=i,!1):void 0},this),t.selectedIndex=n},"select-multiple":function(t,e){var i=ne.util.toArray(t.options);ne.util.isArray(e)?(e=this._changeToStringInArray(e),ne.util.forEach(i,function(t){
t.selected=-1!==$.inArray(t.value,e)||-1!==$.inArray(t.text,e)},this)):this["select-one"].apply(this,arguments)},defaultAction:function(t,e){t.value=e}},getFormData:function(t){var e={},i=t.serializeArray();return ne.util.forEach(i,function(t){var i=t.value,n=t.name;ne.util.isExisty(e[n])?(e[n].push||(e[n]=[e[n]]),e[n].push(i||"")):e[n]=i||""},this),e},getFormElement:function(t,e){var i;return t&&t.length&&(i=e?t.prop("elements")[e+""]:t.prop("elements")),$(i)},setFormData:function(t,e){ne.util.forEachOwnProperties(e,function(e,i){this.setFormElementValue(t,i,e)},this)},setFormElementValue:function(t,e,i){var n,o=this.getFormElement(t,e);o&&(ne.util.isArray(i)||(i=String(i)),o=ne.util.isHTMLTag(o)?[o]:o,o=ne.util.toArray(o),ne.util.forEach(o,function(t){n=this.setInput[t.type]?t.type:"defaultAction",this.setInput[n](t,i)},this))},setCursorToEnd:function(t){var e,i=t.value.length;if(t.focus(),t.setSelectionRange)try{t.setSelectionRange(i,i)}catch(n){}else if(t.createTextRange){e=t.createTextRange(),e.collapse(!0),e.moveEnd("character",i),e.moveStart("character",i);try{e.select()}catch(n){}}}}};e.exports=n},{}],20:[function(t,e,i){"use strict";var n=t("../base/view"),o=t("./painter/cell/mainButton"),s=t("./painter/cell/number"),r=t("./painter/cell/normal"),a=t("./painter/cell/button"),l=t("./painter/cell/select"),u=t("./painter/cell/text"),h=t("./painter/cell/text-convertible"),c=t("./painter/cell/text-password"),d=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this._initializeInstances()},_initializeInstances:function(){var t={},e={grid:this.grid},i=[new o(e),new s(e),new r(e),new a(e),new l(e),new u(e),new c(e),new h(e)];_.each(i,function(e){t[e.getEditType()]=e},this),this.setOwnProperties({instances:t})},getInstance:function(t){var e=this.instances[t];return e||(e="radio"===t||"checkbox"===t?this.instances.button:this.instances.normal),e}});e.exports=d},{"../base/view":7,"./painter/cell/button":37,"./painter/cell/mainButton":39,"./painter/cell/normal":40,"./painter/cell/number":41,"./painter/cell/select":42,"./painter/cell/text":45,"./painter/cell/text-convertible":43,"./painter/cell/text-password":44}],21:[function(t,e,i){"use strict";var n=t("../base/view"),o=t("../util"),s=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({timeoutIdForKeyIn:0,isLocked:!1})},tagName:"textarea",className:"clipboard",events:{keydown:"_onKeyDown",focusin:"_onFocus"},_onFocus:function(){var t,e=this.grid.focusModel,i=e.which();o.isBlank(i.columnName)&&(t=o.isBlank(i.rowKey)?0:this.grid.getIndexOfRow(i.rowKey),this.grid.focusAt(t,0))},render:function(){return this},_lock:function(){clearTimeout(this.timeoutIdForKeyIn),this.isLocked=!0,this.timeoutIdForKeyIn=setTimeout($.proxy(this._unlock,this),10)},_unlock:function(){this.isLocked=!1},_onKeyDown:function(t){return this.isLocked?(t.preventDefault(),!1):(t.shiftKey&&(t.ctrlKey||t.metaKey)?this._keyInWithShiftAndCtrl(t):t.shiftKey?this._keyInWithShift(t):t.ctrlKey||t.metaKey?this._keyInWithCtrl(t):this._keyIn(t),void this._lock())},_keyIn:function(t){var e=this.grid,i=e.keyMap,n=e.focusModel,s=e.selection,r=n.which(),a=r.rowKey,l=r.columnName,u=e.dimensionModel.getDisplayRowCount(),h=!0,c=t.keyCode||t.which;if(!o.isBlank(r.rowKey)){switch(c){case i.UP_ARROW:e.focus(n.prevRowKey(),l,!0);break;case i.DOWN_ARROW:e.focus(n.nextRowKey(),l,!0);break;case i.LEFT_ARROW:e.focus(a,n.prevColumnName(),!0);break;case i.RIGHT_ARROW:e.focus(a,n.nextColumnName(),!0);break;case i.PAGE_UP:e.focus(n.prevRowKey(u-1),l,!0);break;case i.PAGE_DOWN:e.focus(n.nextRowKey(u-1),l,!0);break;case i.HOME:e.focus(a,n.firstColumnName(),!0);break;case i.END:e.focus(a,n.lastColumnName(),!0);break;case i.SPACE:case i.ENTER:this._onEnterSpace(a,l);break;case i.DEL:this._del(a,l);break;case i.TAB:e.focusIn(a,n.nextColumnName(),!0);break;default:h=!1}h&&t.preventDefault(),s.endSelection()}},_onEnterSpace:function(t,e){var i,n=this.grid,o=this.grid.columnModel.getEditType(e);"_button"===o?(i=this.grid.cellFactory.getInstance(o),i.toggle(n.getElement(t,e))):n.focusIn(t,e)},_keyInWithShift:function(t){var e=this.grid,i=e.keyMap,n=e.focusModel,o=e.columnModel.getVisibleColumnModelList(),s=e.focusModel.indexOf(),r=n.which(),a=!0,l=e.dimensionModel.getDisplayRowCount(),u=t.keyCode||t.which;switch(u){case i.UP_ARROW:this._updateSelectionByKeyIn(n.prevRowIndex(),s.columnIdx);break;case i.DOWN_ARROW:this._updateSelectionByKeyIn(n.nextRowIndex(),s.columnIdx);break;case i.LEFT_ARROW:this._updateSelectionByKeyIn(s.rowIdx,n.prevColumnIndex());break;case i.RIGHT_ARROW:this._updateSelectionByKeyIn(s.rowIdx,n.nextColumnIndex());break;case i.PAGE_UP:this._updateSelectionByKeyIn(n.prevRowIndex(l-1),s.columnIdx);break;case i.PAGE_DOWN:this._updateSelectionByKeyIn(n.nextRowIndex(l-1),s.columnIdx);break;case i.HOME:this._updateSelectionByKeyIn(s.rowIdx,0);break;case i.END:this._updateSelectionByKeyIn(s.rowIdx,o.length-1);break;case i.ENTER:break;case i.TAB:e.focusIn(r.rowKey,n.prevColumnName(),!0);break;default:a=!1}a&&t.preventDefault()},_keyInWithCtrl:function(t){var e=this.grid,i=e.keyMap,n=e.focusModel,o=t.keyCode||t.which;switch(o){case i.CHAR_A:this.grid.selection.selectAll();break;case i.CHAR_C:this._copyToClipboard();break;case i.HOME:e.focus(n.firstRowKey(),n.firstColumnName(),!0);break;case i.END:e.focus(n.lastRowKey(),n.lastColumnName(),!0);break;case i.CHAR_V:this._paste()}},_paste:function(){this._clearClipBoard(),this.pasting||(this.pasting=!0,this._onKeyupCharV())},_onKeyupCharV:function(){this.$el.on("keyup",$.proxy(this.onKeyupCharV,this))},onKeyupCharV:function(){this._pasteToGrid(),this.pasting=!1},_clearClipBoard:function(){this.$el.val("")},_pasteToGrid:function(){var t=this._getProcessClipBoardData();this.$el.off("keyup"),this.grid.paste(t)},_getProcessClipBoardData:function(){for(var t=this.$el.val(),e=t.split("\n"),i=0,n=e.length;n>i;i+=1)e[i]=e[i].split("	");return e},_keyInWithShiftAndCtrl:function(t){var e=this.grid,i=e.keyMap,n=!0,o=e.columnModel.getVisibleColumnModelList(),s=t.keyCode||t.which;switch(s){case i.HOME:this._updateSelectionByKeyIn(0,0);break;case i.END:this._updateSelectionByKeyIn(e.dataModel.length-1,o.length-1);break;default:n=!1}n&&t.preventDefault()},_del:function(){var t,e,i,n=this.grid,o=n.selection,s=n.dataModel,r=n.focusModel.which(),a=n.columnModel.getVisibleColumnModelList(),l=r.rowKey,u=r.columnName;if(o.hasSelection()){for(t=o.getRange(),e=t.row[0];e<t.row[1]+1;e+=1)for(l=s.at(e).get("rowKey"),i=t.column[0];i<t.column[1]+1;i+=1)u=a[i].columnName,n.del(l,u,!0);n.renderModel.refresh(!0)}else n.del(l,u)},_updateSelectionByKeyIn:function(t,e){var i=this.grid.selection,n=this.grid.focusModel.indexOf();i.hasSelection()||i.startSelection(n.rowIdx,n.columnIdx),i.updateSelection(t,e),this.grid.focusAt(t,e,!0)},_getClipboardString:function(){var t,e=this.grid.selection,i=this.grid.focusModel.which();return t=e.isShown()?this.grid.selection.getSelectionToString():this.grid.dataModel.get(i.rowKey).getVisibleText(i.columnName)},_copyToClipboard:function(){var t=this._getClipboardString();window.clipboardData?window.clipboardData.setData("Text",t):this.$el.val(t).select()}});e.exports=s},{"../base/view":7,"../util":19}],22:[function(t,e,i){"use strict";var n=t("../base/view"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({text:"기본 텍스트"}),this.listenTo(this.grid.dimensionModel,"change",this._resize,this)},template:_.template('<div>    <%=text%>    <div class="loading_img"></div></div>'),render:function(t){return this.$el.html(this.template({text:t||this.text})).css("display","none"),this},show:function(t){this.render(t).$el.css("display","block").css("zIndex",1),this._resize()},hide:function(){this.$el.css("display","none")},_resize:function(){var t,e;"block"===this.$el.css("display")&&(t=this.grid.dimensionModel.get("headerHeight"),e=this.grid.dimensionModel.get("bodyHeight"),this.$el.css("marginTop",t+"px").css("height",e+"px"))}});e.exports=o},{"../base/view":7}],23:[function(t,e,i){"use strict";var n=t("../layer"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({text:this.grid.options.emptyMessage||"데이터가 존재하지 않습니다."})},className:"no_row_layer",template:_.template("<%=text%>")});e.exports=o},{"../layer":22}],24:[function(t,e,i){"use strict";var n=t("../layer"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.text="요청을 처리 중입니다."},className:"loading_layer",template:_.template('<div>    <%=text%>    <div class="loading_img"></div></div>')});e.exports=o},{"../layer":22}],25:[function(t,e,i){"use strict";var n=t("../layer"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.text="초기화 중 입니다."},className:"initializing_layer"});e.exports=o},{"../layer":22}],26:[function(t,e,i){"use strict";var n=t("../../base/view"),o=t("../rowList"),s=n.extend({initialize:function(t){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({$bodyContainer:null,$tableContainer:null,whichSide:t&&t.whichSide||"R",isScrollSync:!1,extraWidth:0}),this.listenTo(this.grid.dimensionModel,"columnWidthChanged",this._onColumnWidthChanged).listenTo(this.grid.dimensionModel,"change:bodyHeight",this._onBodyHeightChange).listenTo(this.grid.dataModel,"add remove reset",this._resetContainerHeight).listenTo(this.grid.renderModel,"change:scrollTop",this._onScrollTopChange).listenTo(this.grid.renderModel,"change:scrollLeft",this._onScrollLeftChange)},tagName:"div",className:"data",template:_.template('<div class="body_container">   <div class="table_container"><%=table%></div></div>'),templateTable:_.template('<table width="100%" border="0" cellspacing="1" cellpadding="0" bgcolor="#EFEFEF">   <colgroup><%=colGroup%></colgroup>   <tbody><%=tbody%></tbody></table>'),events:{scroll:"_onScroll"},_onBodyHeightChange:function(t,e){this.$el.css("height",e+"px")},_resetContainerHeight:function(){this.$bodyContainer.css({height:this.grid.dimensionModel.get("totalRowHeight")})},_onColumnWidthChanged:function(){var t=this.grid.dimensionModel.getColumnWidthList(this.whichSide),e=this.$el.find("col");_.each(t,function(t,i){e.eq(i).css("width",t-s.extraWidth+"px")},this)},_onScroll:function(t){var e={scrollTop:t.target.scrollTop};"R"===this.whichSide&&(e.scrollLeft=t.target.scrollLeft),this.grid.renderModel.set(e)},_onScrollLeftChange:function(t,e){"R"===this.whichSide&&(this.el.scrollLeft=e)},_onScrollTopChange:function(t,e){this.el.scrollTop=e},resetTablePosition:function(){this.$tableContainer.css({top:this.grid.renderModel.get("top")+"px"})},render:function(){var t,e,i,n=this.grid,s=this.whichSide,r=n.renderModel.getCollection(s);return this.destroyChildren(),this.grid.option("scrollX")||this.$el.css("overflow-x","hidden"),this.grid.option("scrollY")||"R"!==s||this.$el.css("overflow-y","hidden"),i=this.templateTable({colGroup:this._getColGroupMarkup(),tbody:""}),this.$el.css({height:n.dimensionModel.get("bodyHeight")}).html(this.template({table:i})),this.$bodyContainer=this.$el.find("div.body_container"),this.$tableContainer=this.$el.find("div.table_container"),e=this.createView(o,{grid:n,collection:r,bodyView:this,el:this.$el.find("tbody"),whichSide:s}),e.render(),t=this.addView(n.selection.createLayer(s)),this.$bodyContainer.append(t.render().el),this},attachTableEventHandler:function(t,e){_.each(e,function(e,i){this.$tableContainer.on(i,t+" "+e.selector,e.handler)},this)},redrawTable:function(t){return this.$tableContainer[0].innerHTML=this.templateTable({colGroup:this._getColGroupMarkup(),tbody:t}),this.$tableContainer.find("tbody")},_getColGroupMarkup:function(){var t=this.grid,e=this.whichSide,i=t.dimensionModel,n=i.getColumnWidthList(e),o=t.columnModel.getVisibleColumnModelList(e),r="";return _.each(o,function(t,e){var i=t.columnName,o=n[e]-s.extraWidth;r+='<col columnname="'+i+'" style="width:'+o+'px">'}),r}},{extraWidth:function(){var t=0;return ne.util.browser.msie&&7===ne.util.browser.version&&(t=20),t}()});e.exports=s},{"../../base/view":7,"../rowList":47}],27:[function(t,e,i){"use strict";var n=t("./frame"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({whichSide:"L"})},className:"lside_area",_onColumnWidthChanged:function(){var t=this.grid.dimensionModel.get("lsideWidth");this.$el.css({width:t+"px"})},beforeRender:function(){var t=this.grid.dimensionModel.get("lsideWidth");this.$el.css({display:"block",width:t+"px"})}});e.exports=o},{"./frame":29}],28:[function(t,e,i){"use strict";var n=t("./frame"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({whichSide:"R",$scrollBorder:null}),this.listenTo(this.grid.dimensionModel,"change:bodyHeight change:headerHeight",this._resetScrollBorderHeight)},className:"rside_area",_onColumnWidthChanged:function(){var t=this.grid.dimensionModel,e=t.get("lsideWidth"),i=t.get("rsideWidth");this.$el.css({width:i+"px",marginLeft:e+"px"})},_resetScrollBorderHeight:function(){var t=this.grid.dimensionModel,e=t.get("bodyHeight")-t.getScrollXHeight();this.$scrollBorder.height(e)},beforeRender:function(){var t=this.grid.dimensionModel,e=t.get("lsideWidth"),i=t.get("rsideWidth");this.$el.css({display:"block",width:i+"px",marginLeft:e+"px"})},afterRender:function(){var t,e,i,n,o,s=this.grid.dimensionModel;this.grid.option("scrollY")&&(n=s.get("headerHeight"),o=s.get("bodyHeight"),t=$("<div />").addClass("header_space"),e=$("<div />").addClass("scrollbar_border"),i=$("<div />").addClass("scrollbar_corner"),t.height(n-2),e.css("top",n+"px"),this.grid.option("toolbar")||i.css("bottom",0),this.$el.append(t,e,i),this.$scrollBorder=e,this._resetScrollBorderHeight())}});e.exports=o},{"./frame":29}],29:[function(t,e,i){"use strict";var n=t("../../base/view"),o=t("./header"),s=t("./body"),r=n.extend({initialize:function(t){n.prototype.initialize.apply(this,arguments),this.listenTo(this.grid.renderModel,"columnModelChanged",this.render,this).listenTo(this.grid.dimensionModel,"columnWidthChanged",this._onColumnWidthChanged,this),this.setOwnProperties({header:null,body:null,whichSide:t&&t.whichSide||"R"})},tagName:"div",className:"lside_area",render:function(){var t,e;return this.destroyChildren(),this.beforeRender(),t=this.header=this.createView(o,{grid:this.grid,whichSide:this.whichSide}),e=this.body=this.createView(s,{grid:this.grid,whichSide:this.whichSide}),this.$el.append(t.render().el).append(e.render().el),this.afterRender(),this},_onColumnWidthChanged:function(){},beforeRender:function(){},afterRender:function(){}});e.exports=r},{"../../base/view":7,"./body":26,"./header":30}],30:[function(t,e,i){"use strict";var n=t("../../base/view"),o=t("../../util"),s=t("./resizeHandler"),r=n.extend({initialize:function(t){n.prototype.initialize.apply(this,arguments),this.whichSide=t.whichSide,this.setOwnProperties({timeoutForAllChecked:0}),this.listenTo(this.grid.renderModel,"change:scrollLeft",this._onScrollLeftChange,this).listenTo(this.grid.dimensionModel,"columnWidthChanged",this._onColumnWidthChanged,this).listenTo(this.grid.dataModel,"change:_button",this._onCheckCountChange,this).listenTo(this.grid.dataModel,"sortChanged",this._updateBtnSortState,this)},tagName:"div",className:"header",whichSide:"R",events:{click:"_onClick"},template:_.template('    <table width="100%" border="0" cellspacing="1" cellpadding="0" bgcolor="#EFEFEF">        <colgroup><%=colGroup%></colgroup>        <tbody><%=tBody%></tbody>    </table>'),templateHeader:_.template('<th columnname="<%=columnName%>" height="<%=height%>" <%if(colspan > 0) {%>colspan=<%=colspan%> <%}%><%if(rowspan > 0) {%>rowspan=<%=rowspan%> <%}%>><%=title%><%=btnSort%></th>'),templateCol:_.template('<col columnname="<%=columnName%>" style="width:<%=width%>px">'),markupBtnSort:'<a class="btn_sorting"></a>',_getColGroupMarkup:function(){var t=this._getColumnData(),e=t.widthList,i=t.modelList,n=[];return _.each(e,function(t,e){n.push(this.templateCol({columnName:i[e].columnName,width:t}))},this),n.join("")},_onCheckCountChange:function(){"checkbox"===this.grid.option("selectType")&&(clearTimeout(this.timeoutForAllChecked),this.timeoutForAllChecked=setTimeout($.proxy(this._syncCheckState,this),10))},_getHeaderMainCheckbox:function(){return this.$el.find('th[columnname="_button"] input')},_syncCheckState:function(){var t,e,i;"checkbox"===this.grid.option("selectType")&&(t=this._getHeaderMainCheckbox(),t.length&&(e=0,i=this.grid.dataModel.getRowList(!0).length,this.grid.dataModel.forEach(function(t){var i=t.getCellState("_button");!i.isDisabled&&i.isEditable&&(e+=1)},this),t.prop("checked",e===i)))},_onColumnWidthChanged:function(){var t=this._getColumnData(),e=t.widthList,i=this.$el.find("col");_.each(e,function(t,e){i.eq(e).css("width",t+"px")})},_onScrollLeftChange:function(t,e){"R"===this.whichSide&&(this.el.scrollLeft=e)},_onClick:function(t){var e=$(t.target),i=e.closest("th").attr("columnname");"_button"===i&&e.is("input")?e.prop("checked")?this.grid.checkAll():this.grid.uncheckAll():e.is("a.btn_sorting")&&this.grid.sort(i)},_updateBtnSortState:function(t){this._$currentSortBtn&&this._$currentSortBtn.removeClass("sorting_down sorting_up"),this._$currentSortBtn=this.$el.find("th[columnname="+t.columnName+"] a.btn_sorting"),this._$currentSortBtn.addClass(t.isAscending?"sorting_up":"sorting_down")},render:function(){var t;return this.destroyChildren(),t=this.createView(s,{whichSide:this.whichSide,grid:this.grid}),this.grid.option("scrollX")||this.$el.css("overflow-x","hidden"),this.grid.option("scrollY")||this.$el.css("overflow-y","hidden"),this.$el.css({height:this.grid.dimensionModel.get("headerHeight")}).html(this.template({colGroup:this._getColGroupMarkup(),tBody:this._getTableBodyMarkup()})),this.$el.append(t.render().el),this},_getColumnData:function(){var t=this.grid.columnModel,e=this.grid.dimensionModel,i=e.getColumnWidthList(this.whichSide),n=t.getVisibleColumnModelList(this.whichSide);return{widthList:i,modelList:n}},_getTableBodyMarkup:function(){var t,e,i=this._getColumnHierarchyList(),n=this._getHierarchyMaxRowCount(i),s=this.grid.dimensionModel.get("headerHeight"),r=new Array(n),a=new Array(n),l=[],u=o.getRowHeight(n,s)-1,h=1;return _.each(i,function(e,o){var c=i[o].length,d=0;_.each(e,function(e,i){var o=e.columnName;h=c-1===i&&n-c+1>1?n-c+1:1,t=u*h,i===c-1?t=s-d-2:d+=t+1,a[i]===o?(r[i].pop(),l[i]+=1):l[i]=1,a[i]=o,r[i]=r[i]||[],r[i].push(this.templateHeader({columnName:o,height:t,colspan:l[i],rowspan:h,title:e.title,btnSort:e.isSortable?this.markupBtnSort:""}))},this)},this),e=_.map(r,function(t){return"<tr>"+t.join("")+"</tr>"}),e.join("")},_getHierarchyMaxRowCount:function(t){var e=[0];return _.each(t,function(t){e.push(t.length)},this),Math.max.apply(Math,e)},_getColumnHierarchyList:function(){var t,e=this._getColumnData().modelList;return t=_.map(e,function(t){return this._getColumnHierarchy(t).reverse()},this)},_getColumnHierarchy:function(t,e){var i=this.grid.option("columnMerge");return e=e||[],t&&(e.push(t),i&&_.each(i,function(i){-1!==$.inArray(t.columnName,i.columnNameList)&&(e=this._getColumnHierarchy(i,e))},this)),e}});e.exports=r},{"../../base/view":7,"../../util":19,"./resizeHandler":31}],31:[function(t,e,i){"use strict";var n=t("../../base/view"),o=n.extend({initialize:function(t){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({whichSide:t.whichSide||"R",isResizing:!1,$target:null,differenceLeft:0,initialWidth:0,initialOffsetLeft:0,initialLeft:0}),this.listenTo(this.grid.dimensionModel,"columnWidthChanged",this._refreshHandlerPosition,this),this.grid instanceof n&&(this.listenTo(this.grid,"rendered",$.proxy(this._refreshHandlerPosition,this)),this.listenTo(this.grid.dimensionModel,"change:width",$.proxy(this._refreshHandlerPosition,this)))},tagName:"div",className:"resize_handle_container",events:{"mousedown .resize_handle":"_onMouseDown","click .resize_handle":"_onClick"},template:_.template('<div columnindex="<%=columnIndex%>" columnname="<%=columnName%>" class="resize_handle<% if(isLast === true)  print(" resize_handle_last");%>" style="<%=height%>" title="마우스 드래그를 통해 컬럼의 넓이를 변경할 수 있고,더블클릭을 통해 넓이를 초기화할 수 있습니다."></div>'),_getColumnData:function(){var t=this.grid.columnModel,e=this.grid.dimensionModel,i=e.getColumnWidthList(this.whichSide),n=t.getVisibleColumnModelList(this.whichSide);return{widthList:i,modelList:n}},_getResizeHandlerMarkup:function(){var t,e=this._getColumnData(),i=e.modelList,n=this.grid.dimensionModel.get("headerHeight"),o=i.length;return t=_.map(i,function(t,e){return this.template({columnIndex:e,columnName:t.columnName,isLast:e+1===o,height:n})},this),t.join("")},render:function(){var t=this.grid.dimensionModel.get("headerHeight");return this.$el.empty(),this.$el.show().css({marginTop:-t+"px",height:t+"px"}).html(this._getResizeHandlerMarkup()),this._refreshHandlerPosition(),this},_refreshHandlerPosition:function(){var t,e,i,n=this._getColumnData(),o=n.widthList,s=[],r=this.$el.find(".resize_handle"),a=this.$el.parent().find("table:first"),l=!1,u=0,h=1;ne.util.forEachArray(r,function(n,c){t=r.eq(c),e=t.attr("columnname"),i=a.find('th[columnname="'+e+'"]').width(),ne.util.isExisty(i)?l=l||i!==o[c]:i=o[c],u+=i+h,t.css("left",u-3+"px"),s.push(i)})},_isResizing:function(){return!!this.isResizing},_onMouseDown:function(t){this._startResizing(t)},_onClick:function(t){var e=$(t.target),i=parseInt(e.attr("columnindex"),10),n=e.data("isClicked");n?(this.grid.dimensionModel.restoreColumnWidth(this._getHandlerColumnIndex(i)),this._clearClickedFlag(e),this._refreshHandlerPosition()):this._setClickedFlag(e)},_setClickedFlag:function(t){t.data("isClicked",!0),setTimeout($.proxy(this._clearClickedFlag,this,t),500)},_clearClickedFlag:function(t){t.data("isClicked",!1)},_onMouseUp:function(){this._stopResizing()},_onMouseMove:function(t){var e,i,n;this._isResizing()&&(t.preventDefault(),e=t.pageX-this.initialOffsetLeft,i=this._calculateWidth(t.pageX),n=parseInt(this.$target.attr("columnindex"),10),this.$target.css("left",e+"px"),this.grid.dimensionModel.setColumnWidth(this._getHandlerColumnIndex(n),i),this._refreshHandlerPosition())},_calculateWidth:function(t){var e=t-this.initialOffsetLeft-this.initialLeft;return this.initialWidth+e},_getHandlerColumnIndex:function(t){return"R"===this.whichSide?t+this.grid.columnModel.get("columnFixIndex"):t},_startResizing:function(t){var e=this._getColumnData(),i=e.widthList,n=$(t.target);this.isResizing=!0,this.$target=n,this.initialLeft=parseInt(n.css("left").replace("px",""),10),this.initialOffsetLeft=this.$el.offset().left,this.initialWidth=i[n.attr("columnindex")],$("body").css("cursor","col-resize"),$(document).bind("mousemove",$.proxy(this._onMouseMove,this)).bind("mouseup",$.proxy(this._onMouseUp,this)),n[0].setCapture&&n[0].setCapture()},_stopResizing:function(){this.$target&&this.$target[0].releaseCapture&&this.$target[0].releaseCapture(),this.isResizing=!1,this.$target=null,this.initialLeft=0,this.initialOffsetLeft=0,this.initialWidth=0,$("body").css("cursor","default"),$(document).unbind("mousemove",$.proxy(this._onMouseMove,this)).unbind("mouseup",$.proxy(this._onMouseUp,this))},destroy:function(){this.stopListening(),this._stopResizing(),this.destroyChildren(),this.remove()}});e.exports=o},{"../../base/view":7}],32:[function(t,e,i){"use strict";var n=t("../../base/view"),o=t("./toolbar/controlPanel"),s=t("./toolbar/pagination"),r=t("./toolbar/resizeHandler"),a=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({controlPanel:null,resizeHandler:null,pagination:null})},tagName:"div",className:"toolbar",render:function(){var t,e,i,n=this.grid.option("toolbar");return this.destroyChildren(),this.$el.empty(),n&&n.hasControlPanel&&(e=this.createView(o,{grid:this.grid}),this.$el.append(e.render().el)),n&&n.hasResizeHandler&&(t=this.createView(r,{grid:this.grid}),this.$el.append(t.render().el)),n&&n.hasPagination&&(i=this.createView(s,{grid:this.grid}),this.$el.append(i.render().el)),this.setOwnProperties({controlPanel:e,resizeHandler:t,pagination:i}),e||t||i?this.$el.show():this.$el.height(0),this}});e.exports=a},{"../../base/view":7,"./toolbar/controlPanel":33,"./toolbar/pagination":34,"./toolbar/resizeHandler":35}],33:[function(t,e,i){"use strict";var n=t("../../../base/view"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({$btnExcel:null,$btnExcelAll:null})},events:{"click a.excel_download_button":"_onClickExcel"},tagName:"div",className:"btn_setup",templateExcelBtn:_.template('<a href="#" class="excel_download_button btn_text <%=className%>"><span><em class="excel"><%=text%></em></span></a>'),_onClickExcel:function(t){var e,i=this.grid.addOn.Net;t.preventDefault(),i&&(e=$(t.target).closest("a"),e.hasClass("excel_page")?i.download("excel"):e.hasClass("excel_all")&&i.download("excelAll"))},render:function(){return this.$btnExcelAll=$(this.templateExcelBtn({className:"excel_all",text:"전체엑셀다운로드"})),this.$btnExcel=$(this.templateExcelBtn({className:"excel_page",text:"엑셀 다운로드"})),this.$el.append(this.$btnExcelAll.hide(),this.$btnExcel.hide()),this}});e.exports=o},{"../../../base/view":7}],34:[function(t,e,i){"use strict";var n=t("../../../base/view"),o=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({instance:null})},tagName:"div",className:"grid_pagination",template:_.template('<a href="#" class="pre_end">맨앞</a><a href="#" class="pre">이전</a> <a href="#" class="next">다음</a><a href="#" class="next_end">맨뒤</a>'),render:function(){return this.destroyChildren(),this.$el.empty().html(this.template()),this._setPaginationInstance(),this},_setPaginationInstance:function(){var t=ne&&ne.component&&ne.component.Pagination,e=this.instance;!e&&t&&(e=new t({itemCount:1,itemPerPage:1},this.$el)),this.setOwnProperties({instance:e})}});e.exports=o},{"../../../base/view":7}],35:[function(t,e,i){"use strict";var n=t("../../../base/view"),o=n.extend({initialize:function(){this.timeoutIdForResize=0,n.prototype.initialize.apply(this,arguments)},tagName:"div",className:"height_resize_bar",template:_.template('<a href="#" class="height_resize_handle">높이 조절</a>'),events:{mousedown:"_onMouseDown"},_attachMouseEvent:function(){$(document).on("mousemove",$.proxy(this._onMouseMove,this)),$(document).on("mouseup",$.proxy(this._onMouseUp,this)),$(document).on("selectstart",$.proxy(this._onSelectStart,this))},_detachMouseEvent:function(){$(document).off("mousemove",$.proxy(this._onMouseMove,this)),$(document).off("mouseup",$.proxy(this._onMouseUp,this)),$(document).off("selectstart",$.proxy(this._onSelectStart,this))},_onMouseDown:function(t){t.preventDefault(),$(document.body).css("cursor","row-resize"),this.grid.updateLayoutData(),this._attachMouseEvent()},_onMouseMove:function(t){var e=this.grid.dimensionModel,i=e.get("offsetTop"),n=e.get("headerHeight"),o=e.get("rowHeight"),s=e.get("toolbarHeight"),r=t.pageY-i-n-s;clearTimeout(this.timeoutIdForResize),r=Math.max(r,o+e.getScrollXHeight()),this.timeoutIdForResize=setTimeout(function(){e.set({bodyHeight:r})},0)},_onMouseUp:function(){$(document.body).css("cursor","default"),this._detachMouseEvent()},_onSelectStart:function(t){return t.preventDefault(),!1},render:function(){return this.destroyChildren(),this.$el.html(this.template()),this},destroy:function(){this.stopListening(),this._onMouseUp(),this.destroyChildren(),this.remove()}});e.exports=o},{"../../../base/view":7}],36:[function(t,e,i){"use strict";var n=t("../../base/painter"),o=t("../../util"),s=ne.util.defineClass(n,{init:function(){n.apply(this,arguments),this.setOwnProperties({_keyDownSwitch:$.extend({},this._defaultKeyDownSwitch)})},redrawAttributes:["isEditable","optionList","value"],_defaultKeyDownSwitch:{ESC:function(t,e){this.focusOut(e.$target)},ENTER:function(t,e){this.focusOut(e.$target)},TAB:function(t,e){t.shiftKey?this.grid.focusIn(e.rowKey,e.focusModel.prevColumnName(),!0):this.grid.focusIn(e.rowKey,e.focusModel.nextColumnName(),!0)},defaultAction:function(){}},eventHandler:{},onModelChange:function(t,e){var i,n=e.find('td[columnname="'+t.columnName+'"]'),o=!1;ne.util.forEachArray(this.redrawAttributes,function(e){return-1!==$.inArray(e,t.changed)?(o=!0,!1):void 0},this),n.attr("class",this._getClassNameList(t).join(" "));try{i=!!n.find(":focus").length}catch(s){i=!1}o?(this.redraw(t,n,i),i&&this.focusIn(n)):this.setElementAttribute(t,n,i)},_getParamForKeyDownSwitch:function(t){var e=this.grid,i=t.keyCode||t.which,n=e.focusModel.which(),o=n.rowKey,s=n.columnName;return{keyDownEvent:t,$target:$(t.target),focusModel:e.focusModel,rowKey:o,columnName:s,keyName:e.keyName[i]}},_executeKeyDownSwitch:function(t){var e=t.keyCode||t.which,i=this.grid.keyName[e],n=this._getParamForKeyDownSwitch(t);return(this._keyDownSwitch[i]||this._keyDownSwitch.defaultAction).call(this,t,n),!!this._keyDownSwitch[i]},setKeyDownSwitch:function(t,e){"object"==typeof t?this._keyDownSwitch=$.extend(this._keyDownSwitch,t):this._keyDownSwitch[t]=e},_onKeyDown:function(t){this._executeKeyDownSwitch(t)&&t.preventDefault()},_getClassNameList:function(t){var e=this.grid.focusModel.which(),i=t.columnName,n=this.grid.dataModel.getMainRowKey(e.rowKey,i),o=[],s={},r={_button:!0,_number:!0},a=!!r[i];return n===t.rowKey&&(s.selected=!0,e.columnName===i&&(s.focused=!0)),t.className&&(s[t.className]=!0),t.isEditable&&!a&&(s.editable=!0),t.isDisabled&&(s.disabled=!0),ne.util.forEach(s,function(t,e){o.push(e)}),o},_getContentHtml:function(t){var e,i,n,o=t.columnName,s=this.grid.columnModel.getColumnModel(o),r=s.editOption||{},a=s.defaultValue,l=ne.util.isExisty;return l(t.value)||(t.value=l(a)?defulatValue:""),e=this._getExtraContent(r.beforeContent||r.beforeText,t),i=this._getExtraContent(r.afterContent||r.afterText,t),n=e+this.getContentHtml(t)+i},_getExtraContent:function(t,e){var i,n,o=t;return ne.util.isFunction(t)&&(i=this.grid.dataModel.get(e.rowKey),n=i.getHTMLEncodedString(e.columnName),o=t(n,i.attributes)),ne.util.isExisty(o)||(o=""),o},_getSpanWrapContent:function(t,e){return ne.util.isFalsy(t)&&(t=""),'<span class="'+e+'">'+t+"</span>"},getHtml:function(t){var e=o.getAttributesString(this.getAttributes(t)),i=[];return i.push("<td"),i.push(' columnName="'),i.push(t.columnName),i.push('" '),i.push(t.rowSpan?'rowSpan="'+t.rowSpan+'"':""),i.push(' class="'),i.push(this._getClassNameList(t).join(" ")),i.push('" '),i.push(e),i.push(' edit-type="'),i.push(this.getEditType()),i.push('">'),i.push(this._getContentHtml(t)),i.push("</td>"),i.join("")},redraw:function(t,e){var i={"class":this._getClassNameList(t).join(" ")};t.rowSpan&&(i.rowSpan=t.rowSpan),i["edit-type"]=this.getEditType(),i=$.extend(i,this.getAttributes(t)),e.attr(i),e.html(this._getContentHtml(t))},_getCellData:function(t){var e=this._getCellAddress(t);return this.grid.renderModel.getCellData(e.rowKey,e.columnName)},_getCellAddress:function(t){return{rowKey:this.getRowKey(t),columnName:this.getColumnName(t)}},_getConvertedHtml:function(t,e){var i,n=this.getColumnModel(e),o=n.editOption;return o&&ne.util.isFunction(o.converter)&&(i=o.converter(t,this.grid.dataModel.get(e.rowKey).attributes)),ne.util.isFalsy(i)&&(i=null),i},getColumnName:function(t){return t.closest("td").attr("columnName")},getRowKey:function(t){return t.closest("tr").attr("key")},getColumnModel:function(t){return this.grid.columnModel.getColumnModel(t.columnName)},getAttributes:function(t){var e=this.getColumnModel(t);return{align:e.align||"left"}},focusOut:function(){this.grid.focusClipboard()},getEditType:function(){return"normal"},focusIn:function(t){},getContentHtml:function(t){return""},setElementAttribute:function(t,e,i){}});e.exports=s},{"../../base/painter":6,"../../util":19}],37:[function(t,e,i){"use strict";var n=t("./list"),o=t("../../../util"),s=ne.util.defineClass(n,{init:function(){n.apply(this,arguments),this.setKeyDownSwitch({UP_ARROW:function(){},
DOWN_ARROW:function(){},PAGE_UP:function(){},PAGE_DOWN:function(){},ENTER:function(t,e){e.$target.trigger("click")},LEFT_ARROW:function(t,e){this._focusPrevInput(e.$target)},RIGHT_ARROW:function(t,e){this._focusNextInput(e.$target)},ESC:function(t,e){this.focusOut(e.$target)},TAB:function(t,e){t.shiftKey?this._focusPrevInput(e.$target)||this.grid.focusIn(e.rowKey,e.focusModel.prevColumnName(),!0):this._focusNextInput(e.$target)||this.grid.focusIn(e.rowKey,e.focusModel.nextColumnName(),!0)}})},eventHandler:{"change input":"_onChange","keydown input":"_onKeyDown"},getEditType:function(){return"button"},focusIn:function(t){t.find("input").eq(0).prop("disabled")?this.grid.focusClipboard():t.find("input").eq(0).focus()},getContentHtml:function(t){var e,i=this.getOptionList(t),n=this.grid.columnModel.getColumnModel(t.columnName),s=t.value,r=(""+s).split(","),a={},l=this._getConvertedHtml(s,t),u=[],h=o.getUniqueKey(),c=t.isDisabled;return ne.util.isNull(l)&&(ne.util.forEachArray(r,function(t){a[t]=!0}),ne.util.forEachArray(i,function(t){e=h+"_"+t.value,u.push('<input type="'),u.push(n.editOption.type),u.push('" name="'),u.push(h),u.push('" id="'),u.push(e),u.push('" value="'),u.push(t.value),u.push('" '),u.push(a[t.value]?"checked":""),u.push(c?"disabled":""),u.push("/>"),t.text&&(u.push('<label for="'),u.push(e),u.push('" style="margin-right:10px">'),u.push(t.text),u.push("</label>"))},this),l=u.join("")),l},setElementAttribute:function(t,e){var i=t.value,n=(""+i).split(",");e.find("input:checked").prop("checked",!1),ne.util.forEachArray(n,function(t){e.find('input[value="'+t+'"]').prop("checked",!0)})},_focusNextInput:function(t){return this._focusTargetInput(t,"next")},_focusPrevInput:function(t){return this._focusTargetInput(t,"prev")},_focusTargetInput:function(t,e){var i,n=t,o=!1;"next"===e?i=function(t){return t.next()}:"prev"===e&&(i=function(t){return t.prev()});do n=i(n);while(n.length&&!n.is("input"));return n.length&&(n.focus(),o=!0),o},_getCheckedValueList:function(t){var e=t.closest("td").find("input:checked"),i=[];return ne.util.forEachArray(e,function(t,n){i.push(e.eq(n).val())}),i},_onChange:function(t){var e=$(t.target),i=this._getCellAddress(e);this.grid.setValue(i.rowKey,i.columnName,this._getCheckedValueList(e).join(","))}});e.exports=s},{"../../../util":19,"./list":38}],38:[function(t,e,i){"use strict";var n=t("../cell"),o=ne.util.defineClass(n,{init:function(){n.apply(this,arguments)},redrawAttributes:["isDisabled","isEditable","optionList"],eventHandler:{},getEditType:function(){},focusIn:function(t){},getContentHtml:function(t){throw this.error("Implement getContentHtml(cellData, $target) method. On re-rendering")},setElementAttribute:function(t,e,i){throw this.error("Implement setElementAttribute(cellData, $target) method. ")},getOptionList:function(t){var e=this.grid.columnModel.getColumnModel(t.columnName);return t.optionList&&t.optionList.length?t.optionList:e.editOption.list}});e.exports=o},{"../cell":36}],39:[function(t,e,i){"use strict";var n=t("../cell"),o=ne.util.defineClass(n,{init:function(){n.apply(this,arguments),this.setKeyDownSwitch({UP_ARROW:function(){},DOWN_ARROW:function(){},ENTER:function(t,e){this.focusOut(e.$target)},LEFT_ARROW:function(){},RIGHT_ARROW:function(){},ESC:function(){}})},redrawAttributes:["isDisabled","isEditable","optionList"],eventHandler:{mousedown:"_onMouseDown","change input":"_onChange","keydown input":"_onKeyDown"},getEditType:function(){return"_button"},getContentHtml:function(t){var e=t.isDisabled,i=[];return i.push('<input type="'),i.push(this.grid.option("selectType")),i.push('" name="'),i.push(this.grid.id),i.push('" '),i.push(t.value?"checked":""),i.push(e?"disabled":""),i.push("/>"),i.join("")},focusIn:function(){},setElementAttribute:function(t,e){var i=e.find("input"),n=i.prop("checked");n!==!!t.value&&i.prop("checked",t.value)},toggle:function(t){var e=t.find("input");"checkbox"===this.grid.option("selectType")&&e.prop("checked",!e.prop("checked"))},getAttributes:function(){return{align:"center"}},_onChange:function(t){var e=$(t.target),i=this.getRowKey(e);this.grid.setValue(i,"_button",e.prop("checked"))},_onMouseDown:function(t){var e=$(t.target);e.is("input")||e.find("input").trigger("click")}});e.exports=o},{"../cell":36}],40:[function(t,e,i){"use strict";var n=t("../cell"),o=ne.util.defineClass(n,{init:function(){n.apply(this,arguments)},getEditType:function(){return"normal"},getContentHtml:function(t){var e=t.columnName,i=this.grid.columnModel.getColumnModel(e),n=this.grid.dataModel.get(t.rowKey).getHTMLEncodedString(e),o=t.rowKey;return ne.util.isFunction(i.formatter)&&(n=i.formatter(n,this.grid.dataModel.get(o).attributes,i)),ne.util.isExisty(n)||(n=""),n},focusIn:function(){this.grid.focusClipboard()},setElementAttribute:function(t,e,i){}});e.exports=o},{"../cell":36}],41:[function(t,e,i){"use strict";var n=t("./normal"),o=ne.util.defineClass(n,{init:function(){n.apply(this,arguments)},redrawAttributes:[],getEditType:function(){return"_number"},getContentHtml:function(t){return t.value}});e.exports=o},{"./normal":40}],42:[function(t,e,i){"use strict";var n=t("./list"),o=t("../../../util"),s=ne.util.defineClass(n,{init:function(){n.apply(this,arguments),this.setKeyDownSwitch({ESC:function(t,e){this.focusOut(e.$target)},ENTER:function(t,e){this.focusOut(e.$target)}})},eventHandler:{"change select":"_onChange","keydown select":"_onKeyDown"},getEditType:function(){return"select"},focusIn:function(t){t.find("select").prop("disabled")?this.grid.focusClipboard():t.find("select").eq(0).focus()},getContentHtml:function(t){var e=this.getOptionList(t),i=t.isDisabled,n=[],s=this._getConvertedHtml(t.value,t);return ne.util.isNull(s)&&(n.push('<select name="'+o.getUniqueKey()+'"'),n.push(i?" disabled ":""),n.push(">"),ne.util.forEachArray(e,function(e){n.push("<option "),n.push('value="'+e.value+'"'),t.value==e.value&&n.push(" selected"),n.push(" >"),n.push(e.text),n.push("</option>")}),n.push("</select>"),s=n.join("")),s},_getContentHtml:function(t){var e,i,n=t.columnName,o=this.grid.columnModel.getColumnModel(n),s=o.editOption||{},r="";return ne.util.isExisty(t.value)||(t.value=o.defaultValue),e=this._getExtraContent(s.beforeContent||s.beforeText,t),i=this._getExtraContent(s.afterContent||s.afterText,t),e&&(r+=this._getSpanWrapContent(e,"before",t)),i&&(r+=this._getSpanWrapContent(i,"after",t)),r+=this._getSpanWrapContent(this.getContentHtml(t),"input")},setElementAttribute:function(t,e,i){var n=e.find("select");i&&n.blur(),n.val(t.value),i&&n.focus()},_onChange:function(t){var e=$(t.target),i=this._getCellAddress(e),n=this.grid;n.setValue(i.rowKey,i.columnName,e.val())}});e.exports=s},{"../../../util":19,"./list":38}],43:[function(t,e,i){"use strict";var n=t("../cell"),o=t("./text"),s=t("../../../util"),r=ne.util.defineClass(o,{init:function(){o.apply(this,arguments),this.setOwnProperties({timeoutIdForClick:0,editingCell:{rowKey:null,columnName:""},clicked:{rowKey:null,columnName:null}})},redrawAttributes:["isDisabled","isEditable","value"],eventHandler:{dblclick:"_onDblClick",mousedown:"_onMouseDown","blur input":"_onBlurConvertible","keydown input":"_onKeyDown","focus input":"_onFocus","selectstart input":"_onSelectStart"},getEditType:function(){return"text-convertible"},focusIn:function(t){this._startEdit(t)},focusOut:function(){this.grid.focusClipboard()},getContentHtml:function(t){var e=this.getColumnModel(t),i=this.grid.dataModel.get(t.rowKey).getHTMLEncodedString(t.columnName),n=[];return ne.util.isUndefined(i)&&(i=""),this._isEditingCell(t)?(n.push('<span class="input">'),n.push('<input type="'),n.push(this._getInputType()),n.push('" value="'),n.push(i),n.push('" name="'),n.push(s.getUniqueKey()),n.push('" align="center" '),n.push(t.isDisabled?"disabled":""),n.push(' maxLength="'),n.push(e.editOption.maxLength),n.push('"/>'),n.push("</span>"),n.join("")):(ne.util.isFunction(e.formatter)&&(i=e.formatter(i,this.grid.dataModel.get(t.rowKey).attributes,e)),i)},_getContentHtml:function(t){var e;return e=this._isEditingCell(t)?o.prototype:n.prototype,e._getContentHtml.call(this,t)},_isEditingCell:function(t){var e=this.editingCell;return!(e.rowKey!==t.rowKey.toString()||e.columnName!==t.columnName.toString())},setElementAttribute:function(t,e,i){},_onBlurConvertible:function(t){var e=$(t.target),i=e.closest("td");this._onBlur(t),this._endEdit(i)},_startEdit:function(t){var e,i,n,o;this._blurEditingCell(),i=this.getRowKey(t),n=this.getColumnName(t),o=this.grid.dataModel.get(i).getCellState(n),o.isEditable&&!o.isDisabled&&(this.editingCell={rowKey:i,columnName:n},this.redraw(this._getCellData(t),t),e=t.find("input"),this.originalText=e.val(),s.form.setCursorToEnd(e.get(0)),e.select())},_endEdit:function(t){var e=this._getCellData(t);this.editingCell={rowKey:null,columnName:null},this.clicked={rowKey:null,columnName:null},e&&this.redraw(e,t)},_blurEditingCell:function(){var t,e=this.editingCell.rowKey,i=this.editingCell.columnName;ne.util.isNull(e)||ne.util.isNull(i)||(t=this.grid.getElement(e,i),t.find("input")[0].blur())},_onDblClick:function(t){var e=$(t.target),i=e.closest("td"),n=this._getCellAddress(i);this._isEditingCell(n)||this._startEdit(i)},_onMouseDown:function(t){$(t.target).is("input")&&t.stopPropagation()}});e.exports=r},{"../../../util":19,"../cell":36,"./text":45}],44:[function(t,e,i){"use strict";var n=t("./text"),o=ne.util.defineClass(n,{init:function(t,e){n.apply(this,arguments)},_getInputType:function(){return"password"},getEditType:function(){return"text-password"}});e.exports=o},{"./text":45}],45:[function(t,e,i){"use strict";var n=t("../cell"),o=t("../../../util"),s=ne.util.defineClass(n,{init:function(t,e){n.apply(this,arguments),this.setOwnProperties({originalText:""}),this.setKeyDownSwitch({UP_ARROW:function(){},DOWN_ARROW:function(){},PAGE_UP:function(){},PAGE_DOWN:function(){},ENTER:function(t,e){this.focusOut(e.$target.closest("td"))},ESC:function(t,e){this._restore(e.$target),this.focusOut(e.$target.closest("td"))}})},redrawAttributes:["isEditable"],eventHandler:{"blur input":"_onBlur","keydown input":"_onKeyDown","focus input":"_onFocus","selectstart input":"_onSelectStart"},template:_.template('<input type="<%=type%>" value="<%=value%>" name="<%=name%>" align="center" <%=disabled%> maxLength="<%=maxLength%>"/>'),_getInputType:function(){return"text"},getEditType:function(){return"text"},focusIn:function(t){var e=t.find("input");e.prop("disabled")?this.grid.focusClipboard():(o.form.setCursorToEnd(e.get(0)),e.select())},focusOut:function(){this.grid.focusClipboard()},getContentHtml:function(t){var e,i=this.getColumnModel(t),n=i.editOption,s=this.grid.dataModel.get(t.rowKey).getHTMLEncodedString(t.columnName);return ne.util.isUndefined(s)&&(s=""),e=this._getConvertedHtml(s,t),ne.util.isNull(e)&&(e=this.template({type:this._getInputType(),value:s,name:o.getUniqueKey(),disabled:t.isDisabled?"disabled":"",maxLength:n.maxLength||""})),e},setElementAttribute:function(t,e){var i=-1!==$.inArray("value",t.changed),n=e.find("input");i&&n.val(t.value),n.prop("disabled",t.isDisabled)},_isEdited:function(t){return t.val()!==this.originalText},_restore:function(t){t.val(this.originalText)},_getContentHtml:function(t){var e,i,n=t.columnName,o=this.grid.columnModel.getColumnModel(n),s=o.editOption||{},r="";return ne.util.isExisty(t.value)||(t.value=o.defaultValue),e=this._getExtraContent(s.beforeContent||s.beforeText,t),i=this._getExtraContent(s.afterContent||s.afterText,t),e&&(r+=this._getSpanWrapContent(e,"before",t)),i&&(r+=this._getSpanWrapContent(i,"after",t)),r+=this._getSpanWrapContent(this.getContentHtml(t),"input")},_onBlur:function(t){var e=$(t.target),i=this.getRowKey(e),n=this.getColumnName(e);this._executeInputEventHandler(t,"blur"),this._isEdited(e)&&this.grid.setValue(i,n,e.val()),this.grid.selection.enable()},_onFocus:function(t){var e=$(t.target);this.originalText=e.val(),this._executeInputEventHandler(t,"focus"),this.grid.selection.disable()},_onKeyDown:function(t){this._executeInputEventHandler(t,"keydown"),n.prototype._onKeyDown.call(this,t)},_getCellInfoFromInput:function(t){var e=t.closest("td"),i=e.closest("tr");return{rowKey:i.attr("key"),columnName:e.attr("columnname")}},_executeInputEventHandler:function(t,e){var i=$(t.target),n=this._getCellInfoFromInput(i),o=this.grid.columnModel.getColumnModel(n.columnName),s=ne.util.pick(o,"editOption","inputEvents",e);return _.isFunction(s)?s(t,n):null},_onSelectStart:function(t){t.stopPropagation()}});e.exports=s},{"../../../util":19,"../cell":36}],46:[function(t,e,i){"use strict";var n=t("../../base/painter"),o=ne.util.defineClass(n,{init:function(t){n.apply(this,arguments),this.setOwnProperties({columnModelList:t.columnModelList})},eventHandler:{mousedown:"_onMouseDown"},baseTemplate:_.template('<tr key="<%=key%>" class="<%=className%>" style="height: <%=height%>px;"><%=contents%></tr>'),_onMouseDown:function(t){var e=$(t.target).closest("td"),i=$(t.target).closest("tr"),n=e.attr("columnName"),o=i.attr("key");this.grid.focus(o,n),"radio"===this.grid.option("selectType")&&this.grid.check(o),this.grid.selection.onMouseDown(t)},onModelChange:function(t,e){var i,n;_.each(t.changed,function(t,o){"_extraData"!==o&&(i=this._getEditType(o,t),n=this.grid.cellFactory.getInstance(i),n.onModelChange(t,e))},this)},_getEditType:function(t,e){var i=this.grid.columnModel.getEditType(t);return e.isEditable||"_number"===t||(i="normal"),i},getCellPainters:function(){return this.grid.cellFactory.instances},getHtml:function(t){var e,i,n,s,r=this.columnModelList,a=this.grid.cellFactory,l="";return ne.util.isUndefined(t.get("rowKey"))?l:(_.each(r,function(o){e=o.columnName,i=t.get(e),i&&i.isMainRow&&(n=this._getEditType(e,i),s=a.getInstance(n),l+=s.getHtml(i))},this),this.baseTemplate({key:t.get("rowKey"),height:this.grid.dimensionModel.get("rowHeight")+o._extraHeight,contents:l,className:""}))},"static":{_extraHeight:function(){var t=0;return ne.util.browser.msie&&7===ne.util.browser.version&&(t=-2),t}()}});e.exports=o},{"../../base/painter":6}],47:[function(t,e,i){"use strict";var n=t("../base/view"),o=t("./painter/row"),s=n.extend({initialize:function(t){var e,i,o;n.prototype.initialize.apply(this,arguments),o=t&&t.whichSide||"R",this.setOwnProperties({whichSide:o,bodyView:t.bodyView,columnModelList:this.grid.columnModel.getVisibleColumnModelList(o),sortOptions:null,renderedRowKeys:null,rowPainter:null}),this.renderCount=0,this._createRowPainter(),this._delegateTableEventsFromBody(),this._focusClipboardDebounced=_.debounce(this._focusClipboard,10),e=this.grid.focusModel,i=this.grid.renderModel,this.listenTo(this.collection,"change",this._onModelChange).listenTo(e,"select",this._onSelect).listenTo(e,"unselect",this._onUnselect).listenTo(e,"focus",this._onFocus).listenTo(e,"blur",this._onBlur).listenTo(i,"rowListChanged",this.render)},_createRowPainter:function(){this.rowPainter=new o({grid:this.grid,columnModelList:this.columnModelList})},_removeOldRows:function(t){var e=_.indexOf(this.renderedRowKeys,t[0]),i=_.indexOf(this.renderedRowKeys,_.last(t)),n=this.$el.children("tr");n.slice(0,e).remove(),n.slice(i+1).remove()},_appendNewRows:function(t,e){var i=this.collection.slice(0,_.indexOf(t,e[0])),n=this.collection.slice(_.indexOf(t,_.last(e))+1);this.$el.prepend(this._getRowsHtml(i)),this.$el.append(this._getRowsHtml(n))},_resetRows:function(){var t,e=this._getRowsHtml(this.collection.models);if(s.isInnerHtmlOfTbodyReadOnly)t=this.bodyView.redrawTable(e),this.setElement(t,!1),ne.util.browser.msie&&ne.util.browser.version<=7&&t.width(t.width());else try{this.$el[0].innerHTML=e}catch(i){s.isInnerHtmlOfTbodyReadOnly=!0,this._resetRows()}},_getRowsHtml:function(t){return _.map(t,this.rowPainter.getHtml,this.rowPainter).join("")},_focusClipboard:function(){try{this.grid.focusClipboard()}catch(t){}},_getRowElement:function(t){return this.$el.find('tr[key="'+t+'"]')},_onSelect:function(t){this._setCssSelect(t,!0)},_onUnselect:function(t){this._setCssSelect(t,!1)},_setCssSelect:function(t,e){var i,n,o,s,r=this.grid,a=this.columnModelList,l={};_.each(a,function(a){i=a.columnName,s=r.dataModel.getMainRowKey(t,i),l[s]=l[s]||this._getRowElement(s),n=l[s],o=n.find('td[columnname="'+i+'"]'),o.length&&o.toggleClass("selected",e)},this)},_onBlur:function(t,e){var i=this.grid.getElement(t,e);i.length&&i.removeClass("focused")},_onFocus:function(t,e){var i=this.grid.getElement(t,e);i.length&&i.addClass("focused")},render:function(t){var e,i=this.collection.pluck("rowKey");return this.bodyView.resetTablePosition(),t?this._resetRows():(e=_.intersection(i,this.renderedRowKeys),_.isEmpty(i)||_.isEmpty(e)||e.length/i.length<.7?this._resetRows():(this._removeOldRows(e),this._appendNewRows(i,e))),this.renderedRowKeys=i,this._focusClipboardDebounced(),this._showLayer(),this},_delegateTableEventsFromBody:function(){this.bodyView.attachTableEventHandler("tr",this.rowPainter.getEventHandlerInfo()),_.each(this.rowPainter.getCellPainters(),function(t,e){var i="td[edit-type="+e+"]",n=t.getEventHandlerInfo();this.bodyView.attachTableEventHandler(i,n)},this)},_onModelChange:function(t){var e=this._getRowElement(t.get("rowKey"));this.rowPainter.onModelChange(t,e)},_showLayer:function(){this.grid.dataModel.length?this.grid.hideGridLayer():this.grid.showGridLayer("empty")}},{isInnerHtmlOfTbodyReadOnly:ne.util.browser.msie&&ne.util.browser.version<=9});e.exports=s},{"../base/view":7,"./painter/row":46}],48:[function(t,e,i){"use strict";var n=t("../base/view"),o=t("./selectionLayer"),s=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.setOwnProperties({range:{column:[-1,-1],row:[-1,-1]},spannedRange:{column:[-1,-1],row:[-1,-1]},lside:null,rside:null,pageX:0,pageY:0,intervalIdForAutoScroll:0,scrollPixelScale:40,isEnable:!0,_isShown:!1}),this.listenTo(this.grid.dimensionModel,"columnWidthChanged",this._onColumnWidthChanged,this).listenTo(this.grid.dataModel,"add remove sort reset",this.endSelection,this)},events:{},enable:function(){this.grid.option("useDataCopy")&&(this.isEnable=!0)},disable:function(){this.endSelection(),this.isEnable=!1},attachMouseEvent:function(t,e){this.isEnable&&(this.setOwnProperties({pageX:t,pageY:e}),this.grid.updateLayoutData(),$(document).on("mousemove",$.proxy(this._onMouseMove,this)),$(document).on("mouseup",$.proxy(this._onMouseUp,this)),$(document).on("selectstart",$.proxy(this._onSelectStart,this)))},detachMouseEvent:function(){clearInterval(this.intervalIdForAutoScroll),$(document).off("mousemove",$.proxy(this._onMouseMove,this)),$(document).off("mouseup",$.proxy(this._onMouseUp,this)),$(document).off("selectstart",$.proxy(this._onSelectStart,this))},onMouseDown:function(t){var e,i,n=this.grid,o=this;t.shiftKey?(e=n.focusModel.indexOf(!0),o.hasSelection()||o.startSelection(e.rowIdx,e.columnIdx),o.attachMouseEvent(t.pageX,t.pageY),i=o.getIndexFromMousePosition(t.pageX,t.pageY),o.updateSelection(i.row,i.column),n.focusAt(i.row,i.column)):(o.endSelection(),o.attachMouseEvent(t.pageX,t.pageY))},_onMouseMove:function(t){var e;clearInterval(this.intervalIdForAutoScroll),this.hasSelection()?(e=this.getIndexFromMousePosition(t.pageX,t.pageY),this.updateSelection(e.row,e.column),this.grid.focusAt(e.row,e.column),this._isAutoScrollable(e.overflowX,e.overflowY)&&(this.intervalIdForAutoScroll=setInterval($.proxy(this._adjustScroll,this,e.overflowX,e.overflowY)))):this._getDistance(t)>10&&(e=this.getIndexFromMousePosition(this.pageX,this.pageY),this.startSelection(e.row,e.column))},_isAutoScrollable:function(t,e){return!(0===t&&0===e)},_adjustScroll:function(t,e){var i=this.grid.renderModel,n=i.get("scrollLeft"),o=i.get("maxScrollLeft"),s=i.get("scrollTop");0>t?i.set("scrollLeft",Math.min(Math.max(0,n-this.scrollPixelScale),o)):t>0&&i.set("scrollLeft",Math.min(Math.max(0,n+this.scrollPixelScale),o)),0>e?i.set("scrollTop",Math.max(0,s-this.scrollPixelScale)):e>0&&i.set("scrollTop",Math.max(0,s+this.scrollPixelScale))},_getDistance:function(t){var e=t.pageX,i=t.pageY,n=Math.abs(this.pageX-e),o=Math.abs(this.pageY-i);return Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(o,2)))},_onMouseUp:function(){this.detachMouseEvent()},getIndexFromMousePosition:function(t,e){var i,n,o=this._getContainerPosition(t,e),s=this.grid.dimensionModel,r=this.grid.renderModel,a=s.getColumnWidthList(),l=r.get("scrollTop"),u=r.get("scrollLeft"),h=s.getFrameWidth(),c=o.pageY+l,d=o.pageX,g=0,p=0,m=s.get("lsideWidth")>o.pageX,f=a.length,w=0,_=this.grid.option("scrollX")?s.get("bodyHeight")-this.grid.scrollBarSize:s.get("bodyHeight"),y=this.grid.option("scrollY")?s.get("width")-this.grid.scrollBarSize:s.get("width");return m||(d+=u),i=Math.max(0,Math.min(Math.floor(c/(s.get("rowHeight")+1)),this.grid.dataModel.length-1)),o.pageY<0?p=-1:o.pageY>_&&(p=1),o.pageX<0?g=-1:o.pageX>y&&(g=1),0>d?n=0:d>h?n=f-1:ne.util.forEachArray(a,function(t,e){return w+=t+1,w>=d?(n=e,!1):void 0}),{row:i,column:n,overflowX:g,overflowY:p}},getRange:function(){return $.extend(!0,{},this.spannedRange)},getSelectionToString:function(){var t,e,i=this.grid.columnModel.getVisibleColumnModelList().slice(this.spannedRange.column[0],this.spannedRange.column[1]+1),n={_button:!0},o=[],s=[],r=[],a=this.grid.renderModel.get("startNumber")+this.spannedRange.row[0];return _.each(i,function(t){o.push(t.columnName)}),t=this.grid.dataModel.slice(this.spannedRange.row[0],this.spannedRange.row[1]+1),_.each(t,function(t,e){s=[],_.each(o,function(i,r){n[i]||("_number"===o[r]?s.push(a+e):s.push(t.getVisibleText(i)))}),r.push(s.join("	"))}),e=r.join("\n")},createLayer:function(t){var e=this._getLayer(t);return e&&ne.util.isFunction(e.destroy())&&e.destroy(),e=this.createView(o,{grid:this.grid,whichSide:t,columnWidthList:this.grid.dimensionModel.getColumnWidthList(t)}),"R"===t?this.rside=e:this.lside=e,e},selectAll:function(){this.isEnable&&(this.startSelection(0,0),this.updateSelection(this.grid.dataModel.length-1,this.grid.columnModel.getVisibleColumnModelList().length-1))},startSelection:function(t,e){this.isEnable&&(this.range.row[0]=this.range.row[1]=t,this.range.column[0]=this.range.column[1]=e,this.show())},updateSelection:function(t,e){this.isEnable&&(this.range.row[1]=t,this.range.column[1]=e,this.show())},endSelection:function(){this.range.row[0]=this.range.row[1]=this.range.column[0]=this.range.column[1]=-1,this.spannedRange.row[0]=this.spannedRange.row[1]=this.spannedRange.column[0]=this.spannedRange.column[1]=-1,this.hide(),this.detachMouseEvent()},_onColumnWidthChanged:function(){this.show()},show:function(){if(this.isEnable&&this.hasSelection()){this._isShown=!0;var t,e=this.grid.dataModel,i=this.grid.columnModel.get("columnFixIndex"),n=Math.min.apply(Math,this.range.row),o=Math.max.apply(Math,this.range.row),s=Math.min.apply(Math,this.range.column),r=Math.max.apply(Math,this.range.column),a={row:[n,o],column:[s,r]};if(e.isRowSpanEnable()){t=$.extend([],a.row);do t=$.extend([],a.row),a=this._getRowSpannedIndex(a);while(a.row[0]!==t[0]||a.row[1]!==t[1])}this.spannedRange=a,this.lside.show(a),this.rside.show({row:a.row,column:[Math.max(-1,a.column[0]-i),Math.max(-1,a.column[1]-i)]}),this.grid.focusClipboard()}},hide:function(){this._isShown=!1,this.lside&&this.lside.hide(),this.rside&&this.rside.hide()},isShown:function(){return this._isShown},getStartIndex:function(){return{rowIdx:this.range.row[0],columnIdx:this.range.column[0]}},getEndIndex:function(){return{rowIdx:this.range.row[1],columnIdx:this.range.column[1]}},_getLayer:function(t){return"R"===t?this.rside:this.lside},_getContainerPosition:function(t,e){var i=this.grid.dimensionModel,n=t-i.get("offsetLeft"),o=e-(i.get("offsetTop")+i.get("headerHeight")+2);return{pageX:n,pageY:o}},_onSelectStart:function(t){return t.preventDefault(),!1},hasSelection:function(){return!(-1===this.range.row[0])},_concatRowSpanIndexFromStart:function(t){var e,i=t.startIndex,n=t.endIndex,o=t.columnName,s=t.startRowSpanDataMap&&t.startRowSpanDataMap[o],r=t.startIndexList,a=t.endIndexList;s&&(s.isMainRow?(e=i+s.count-1,e>n&&a.push(e)):(e=i+s.count,r.push(e)))},_concatRowSpanIndexFromEnd:function(t){var e,i,n=t.endIndex,o=t.columnName,s=t.endRowSpanDataMap&&t.endRowSpanDataMap[o],r=t.endIndexList,a=t.dataModel;s&&(s.isMainRow?(e=n+s.count-1,r.push(e)):(e=n+s.count,i=a.at(e).getRowSpanData(o),e+=i.count-1,e>n&&r.push(e)))},_getRowSpannedIndex:function(t){var e,i,n,o,s=this.grid.columnModel.get("columnModelList").slice(t.column[0],t.column[1]+1),r=this.grid.dataModel,a=[t.row[0]],l=[t.row[1]],u=r.at(t.row[0]),h=r.at(t.row[1]),c=$.extend({},t);return u&&h?(e=r.at(t.row[0]).getRowSpanData(),i=r.at(t.row[1]).getRowSpanData(),_.each(s,function(s){n=s.columnName,o={columnName:n,startIndex:t.row[0],endIndex:t.row[1],endRowSpanDataMap:i,startRowSpanDataMap:e,startIndexList:a,endIndexList:l,dataModel:r},this._concatRowSpanIndexFromStart(o),this._concatRowSpanIndexFromEnd(o)},this),c.row=[Math.min.apply(Math,a),Math.max.apply(Math,l)],c):c},destroy:function(){this.stopListening(),this.detachMouseEvent(),this.destroyChildren(),this.remove()}});e.exports=s},{"../base/view":7,"./selectionLayer":49}],49:[function(t,e,i){"use strict";var n=t("../base/view"),o=t("../util"),s=n.extend({initialize:function(t){n.prototype.initialize.apply(this,arguments),this.listenTo(this.grid.dimensionModel,"columnWidthChanged",this._updateColumnWidthList,this),this.setOwnProperties({columnWidthList:t.columnWidthList,whichSide:t.whichSide||"R",spannedRange:{row:[-1,-1],column:[-1,-1]}})},tagName:"div",className:"selection_layer",events:{mousedown:"_onMouseDown"},_onMouseDown:function(t){this.grid.selection.onMouseDown(t)},_updateColumnWidthList:function(){this.columnWidthList=this.grid.dimensionModel.getColumnWidthList(this.whichSide)},_getGeometryStyles:function(t){var e,i,n,s,r,a,l=this.columnWidthList,u=this.grid.dimensionModel.get("rowHeight"),h=l.length,c="block",d=0,g=0,p=1;for(t=t||this.indexObj,e=t.row,i=t.column,n=o.getHeight(e[0],u)-1,s=o.getHeight(e[1]-e[0]+1,u)-2,a=0;a<i[1]+1&&h>a;a+=1)a<i[0]?d+=l[a]+p:g+=l[a]+p;return g-=p,(0>=g||0>=s)&&(c="none"),r={display:c,width:g+"px",height:s+"px",top:n+"px",left:d+"px"}},show:function(t){this.indexObj=t,this.$el.css(this._getGeometryStyles(t))},hide:function(){this.$el.css({display:"none",width:"0px",height:"0px",top:0,left:0})},render:function(){return this}});e.exports=s},{"../base/view":7,"../util":19}]},{},[12]);